<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#3F56CE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-11-01T15:34:16.7220385"><title>Sign-In Screen (SignInScreen.kt) | Voci App Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"overview","level":0,"title":"Overview","anchor":"#overview"},{"id":"code-explanation","level":0,"title":"Code Explanation","anchor":"#code-explanation"},{"id":"related-files","level":0,"title":"Related Files","anchor":"#related-files"},{"id":"usage","level":0,"title":"Usage","anchor":"#usage"},{"id":"additional-notes","level":0,"title":"Additional Notes","anchor":"#additional-notes"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="images/voci-logo.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Sign-In Screen (SignInScreen.kt) | Voci App Documentation"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Voci App Documentation Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/signinscreen.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Sign-In Screen (SignInScreen.kt) | Voci App Documentation"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/signinscreen.html#webpage",
    "url": "writerside-documentation/signinscreen.html",
    "name": "Sign-In Screen (SignInScreen.kt) | Voci App Documentation",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Voci App Documentation Help"
}</script><!-- End Schema.org --></head><body data-id="SignInScreen" data-main-title="Sign-In Screen (SignInScreen.kt)" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="reference///app///ui///screens///auth"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Voci App Documentation  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="SignInScreen" id="SignInScreen.md">Sign-In Screen (SignInScreen.kt)</h1><section class="chapter"><h2 id="overview" data-toc="overview">Overview</h2><p id="sxqdst_8">This file defines the sign-in screen component for the application. The screen allows users to sign in using their email and password. It utilizes Jetpack Compose to create a responsive and interactive UI. The authentication process is managed by <code class="code" id="sxqdst_9">AuthViewModel</code>.</p></section><section class="chapter"><h2 id="code-explanation" data-toc="code-explanation">Code Explanation</h2><section class="chapter"><h3 id="breakdown" data-toc="breakdown">Breakdown</h3><ul class="list _bullet" id="sxqdst_11"><li class="list__item" id="sxqdst_12"><p id="sxqdst_23"><span class="control" id="sxqdst_25"><code class="code" id="sxqdst_26">@Composable fun SignInScreen(navController: NavHostController, authViewModel: AuthViewModel)</code></span></p><ul class="list _bullet" id="sxqdst_24"><li class="list__item" id="sxqdst_27"><p>Defines the sign-in screen as a composable function.</p></li><li class="list__item" id="sxqdst_28"><p>Parameters: </p><ul class="list _bullet" id="sxqdst_29"><li class="list__item" id="sxqdst_30"><p><code class="code" id="sxqdst_32">navController</code>: The navigation controller to manage app navigation.</p></li><li class="list__item" id="sxqdst_31"><p><code class="code" id="sxqdst_33">authViewModel</code>: The view model that handles authentication.</p></li></ul></li></ul></li><li class="list__item" id="sxqdst_13"><p id="sxqdst_34"><span class="control" id="sxqdst_36">State Variables</span></p><ul class="list _bullet" id="sxqdst_35"><li class="list__item" id="sxqdst_37"><p><span class="control" id="sxqdst_42"><code class="code" id="sxqdst_43">var email by remember { mutableStateOf(&quot;&quot;) }</code></span>: Holds the email input value.</p></li><li class="list__item" id="sxqdst_38"><p><span class="control" id="sxqdst_44"><code class="code" id="sxqdst_45">var password by remember { mutableStateOf(&quot;&quot;) }</code></span>: Holds the password input value.</p></li><li class="list__item" id="sxqdst_39"><p><span class="control" id="sxqdst_46"><code class="code" id="sxqdst_47">var showError by remember { mutableStateOf(false) }</code></span>: Flag to show or hide error messages.</p></li><li class="list__item" id="sxqdst_40"><p><span class="control" id="sxqdst_48"><code class="code" id="sxqdst_49">var errorMessage by remember { mutableStateOf(&quot;&quot;) }</code></span>: Stores the error message text.</p></li><li class="list__item" id="sxqdst_41"><p><span class="control" id="sxqdst_50"><code class="code" id="sxqdst_51">var isSigningIn by remember { mutableStateOf(false) }</code></span>: Flag to indicate if sign-in process is ongoing.</p></li></ul></li><li class="list__item" id="sxqdst_14"><p id="sxqdst_52"><span class="control" id="sxqdst_54"><code class="code" id="sxqdst_55">Box(modifier = Modifier.fillMaxSize().background(MaterialTheme.colorScheme.background))</code></span></p><ul class="list _bullet" id="sxqdst_53"><li class="list__item" id="sxqdst_56"><p>Root container that fills the available space and sets the background color.</p></li></ul></li><li class="list__item" id="sxqdst_15"><p id="sxqdst_57"><span class="control" id="sxqdst_59"><code class="code" id="sxqdst_60">Column(modifier = Modifier.fillMaxSize().padding(24.dp), ...)</code></span></p><ul class="list _bullet" id="sxqdst_58"><li class="list__item" id="sxqdst_61"><p>Vertical layout container that holds the sign-in elements.</p></li><li class="list__item" id="sxqdst_62"><p>Centers its children both horizontally and vertically.</p></li></ul></li><li class="list__item" id="sxqdst_16"><p id="sxqdst_63"><span class="control" id="sxqdst_65"><code class="code" id="sxqdst_66">Text(&quot;Sign In&quot;, style = MaterialTheme.typography.headlineLarge, ...)</code></span></p><ul class="list _bullet" id="sxqdst_64"><li class="list__item" id="sxqdst_67"><p>Title text for the sign-in screen.</p></li><li class="list__item" id="sxqdst_68"><p>Uses the primary color and bold font weight.</p></li></ul></li><li class="list__item" id="sxqdst_17"><p id="sxqdst_69"><span class="control" id="sxqdst_71"><code class="code" id="sxqdst_72">Spacer(modifier = Modifier.height(32.dp))</code></span></p><ul class="list _bullet" id="sxqdst_70"><li class="list__item" id="sxqdst_73"><p>Adds vertical space between UI elements.</p></li></ul></li><li class="list__item" id="sxqdst_18"><p id="sxqdst_74"><span class="control" id="sxqdst_76"><code class="code" id="sxqdst_77">Card(modifier = Modifier.fillMaxWidth().padding(horizontal = 16.dp), ...)</code></span></p><ul class="list _bullet" id="sxqdst_75"><li class="list__item" id="sxqdst_78"><p>Displays the input fields for email and password.</p></li><li class="list__item" id="sxqdst_79"><p>Parameters: </p><ul class="list _bullet" id="sxqdst_80"><li class="list__item" id="sxqdst_81"><p><code class="code" id="sxqdst_84">modifier</code>: Sets the width and horizontal padding of the card.</p></li><li class="list__item" id="sxqdst_82"><p><code class="code" id="sxqdst_85">elevation</code>: Sets the card elevation for shadow effect, using <code class="code" id="sxqdst_86">CardDefaults.cardElevation</code>.</p></li><li class="list__item" id="sxqdst_83"><p><code class="code" id="sxqdst_87">shape</code>: Sets the shape of the card with rounded corners.</p></li></ul></li></ul></li><li class="list__item" id="sxqdst_19"><p id="sxqdst_88"><span class="control" id="sxqdst_90"><code class="code" id="sxqdst_91">Column(modifier = Modifier.fillMaxWidth().padding(24.dp), verticalArrangement = Arrangement.spacedBy(16.dp))</code></span></p><ul class="list _bullet" id="sxqdst_89"><li class="list__item" id="sxqdst_92"><p>Inner vertical layout within the card for input fields and buttons.</p></li><li class="list__item" id="sxqdst_93"><p>Arranges its children with spaced margins.</p></li></ul></li><li class="list__item" id="sxqdst_20"><p id="sxqdst_94"><span class="control" id="sxqdst_96"><code class="code" id="sxqdst_97">AuthTextField(value = email, onValueChange = { email = it }, label = &quot;Email&quot;, icon = Icons.Default.Email)</code></span></p><ul class="list _bullet" id="sxqdst_95"><li class="list__item" id="sxqdst_98"><p>Input field for email, utilizing the custom <code class="code" id="sxqdst_100">AuthTextField</code> composable.</p></li><li class="list__item" id="sxqdst_99"><p>Displays an email icon.</p></li></ul></li><li class="list__item" id="sxqdst_21"><p id="sxqdst_101"><span class="control" id="sxqdst_103"><code class="code" id="sxqdst_104">AuthTextField(value = password, onValueChange = { password = it }, label = &quot;Password&quot;, icon = Icons.Default.Lock, isPassword = true)</code></span></p><ul class="list _bullet" id="sxqdst_102"><li class="list__item" id="sxqdst_105"><p>Input field for password, utilizing the custom <code class="code" id="sxqdst_107">AuthTextField</code> composable.</p></li><li class="list__item" id="sxqdst_106"><p>Sets <code class="code" id="sxqdst_108">isPassword</code> to true for input masking.</p></li></ul></li><li class="list__item" id="sxqdst_22"><p id="sxqdst_109"><span class="control" id="sxqdst_111"><code class="code" id="sxqdst_112">Button(onClick = { isSigningIn = true }, enabled = !isSigningIn)</code></span></p><ul class="list _bullet" id="sxqdst_110"><li class="list__item" id="sxqdst_113"><p>Sign-in button.</p></li><li class="list__item" id="sxqdst_114"><p>Starts the sign-in process when clicked.</p></li><li class="list__item" id="sxqdst_115"><p>Disabled while <code class="code" id="sxqdst_116">isSigningIn</code> is true to prevent multiple submissions.</p></li></ul></li></ul></section></section><section class="chapter"><h2 id="related-files" data-toc="related-files">Related Files</h2><ul class="list _bullet" id="sxqdst_117"><li class="list__item" id="sxqdst_118"><p><span class="control" id="sxqdst_121"><a href="authviewmodel.html" id="sxqdst_122" data-tooltip="This file defines the AuthViewModel class, which handles user authentication and profile management. It interacts with Firebase Authentication to perform actions such as sign-in, sign-out, user creation, and profile updates. The class utilizes Kotlin Coroutines and StateFlow to…">AuthViewModel.kt</a>:</span> Manages user authentication and handles sign-in operations.</p></li><li class="list__item" id="sxqdst_119"><p><span class="control" id="sxqdst_123"><a href="navgraph.html" id="sxqdst_124" data-tooltip="This file defines the navigation graph for the application, which controls the navigation flow between different screens. It uses Jetpack Compose's Navigation component to manage the navigation stack and transitions.">NavGraph.kt</a>:</span> Defines the navigation routes, including the sign-in screen.</p></li><li class="list__item" id="sxqdst_120"><p><span class="control" id="sxqdst_125"><a href="userprofilescreen.html" id="sxqdst_126" data-tooltip="This file defines the user profile screen component for the application. The screen displays the user's profile information and provides options for editing the profile and logging out. It utilizes Jetpack Compose to create a responsive and interactive UI.">UserProfileScreen.kt</a>:</span> Navigates to the user profile screen upon successful sign-in.</p></li></ul></section><section class="chapter"><h2 id="usage" data-toc="usage">Usage</h2><p id="sxqdst_127">The <code class="code" id="sxqdst_130">SignInScreen</code> is used for user authentication within the app. Here is how it can be integrated and used:</p><section class="chapter"><h3 id="example-usage-in-navgraph" data-toc="example-usage-in-navgraph">Example Usage in NavGraph</h3><p id="sxqdst_131">Include the <code class="code" id="sxqdst_133">SignInScreen</code> in the navigation graph to enable navigation to the sign-in screen:</p><div class="code-block" data-lang="kotlin">
composable(route = Screens.SignIn.route) {
    SignInScreen(navController = navController, authViewModel = authViewModel)
}
</div></section><section class="chapter"><h3 id="handling-sign-in" data-toc="handling-sign-in">Handling Sign-In</h3><p id="sxqdst_134">The sign-in button initiates the authentication process, managed by <code class="code" id="sxqdst_136">AuthViewModel</code>:</p><div class="code-block" data-lang="kotlin">
Button(
    onClick = {
        isSigningIn = true
        // Authenticate user
        viewModelScope.launch {
            val result = authViewModel.signInWithEmailAndPassword(email, password)
            isSigningIn = false
            if (result is AuthResult.Success) {
                // Navigate to user profile or home screen
                navController.navigate(Screens.UserProfile.route)
            } else if (result is AuthResult.Failure) {
                // Display error message
                showError = true
                errorMessage = result.message
            }
        }
    },
    enabled = !isSigningIn
) {
    Text(&quot;Sign In&quot;)
}
</div></section></section><section class="chapter"><h2 id="additional-notes" data-toc="additional-notes">Additional Notes</h2><ul class="list _bullet" id="sxqdst_137"><li class="list__item" id="sxqdst_138"><p>The screen provides a clean and user-friendly interface for user authentication.</p></li><li class="list__item" id="sxqdst_139"><p>It ensures responsive design and optimal user experience across different devices.</p></li><li class="list__item" id="sxqdst_140"><p>Proper state management and error handling enhance the reliability of the authentication process.</p></li></ul></section><div class="last-modified">Last modified: 01 novembre 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="navgraph.html" class="navigation-links__prev">Navigation Graph (NavGraph.kt)</a><a href="signupscreen.html" class="navigation-links__next">Sign-Up Screen (SignUpScreen.kt)</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.js"></script></body></html>