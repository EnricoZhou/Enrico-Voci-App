<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#3F56CE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-10-31T00:09:56.3542969"><title>Sign-Up Screen (SignUpScreen.kt) | Voci App Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"overview","level":0,"title":"Overview","anchor":"#overview"},{"id":"code-explanation","level":0,"title":"Code Explanation","anchor":"#code-explanation"},{"id":"related-files","level":0,"title":"Related Files","anchor":"#related-files"},{"id":"usage","level":0,"title":"Usage","anchor":"#usage"},{"id":"additional-notes","level":0,"title":"Additional Notes","anchor":"#additional-notes"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="images/voci-logo.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Sign-Up Screen (SignUpScreen.kt) | Voci App Documentation"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Voci App Documentation Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/signupscreen.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Sign-Up Screen (SignUpScreen.kt) | Voci App Documentation"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/signupscreen.html#webpage",
    "url": "writerside-documentation/signupscreen.html",
    "name": "Sign-Up Screen (SignUpScreen.kt) | Voci App Documentation",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Voci App Documentation Help"
}</script><!-- End Schema.org --></head><body data-id="SignUpScreen" data-main-title="Sign-Up Screen (SignUpScreen.kt)" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="reference///app///ui///screens///auth"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Voci App Documentation  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="SignUpScreen" id="SignUpScreen.md">Sign-Up Screen (SignUpScreen.kt)</h1><section class="chapter"><h2 id="overview" data-toc="overview">Overview</h2><p id="-ijykmk_8">This file defines the sign-up screen component for the application. The screen allows users to create a new account using their email and password. It utilizes Jetpack Compose to create a responsive and interactive UI. The authentication process is managed by <code class="code" id="-ijykmk_9">AuthViewModel</code>.</p></section><section class="chapter"><h2 id="code-explanation" data-toc="code-explanation">Code Explanation</h2><section class="chapter"><h3 id="breakdown" data-toc="breakdown">Breakdown</h3><ul class="list _bullet" id="-ijykmk_11"><li class="list__item" id="-ijykmk_12"><p id="-ijykmk_24"><span class="control" id="-ijykmk_26"><code class="code" id="-ijykmk_27">@Composable fun SignUpScreen(navController: NavHostController, authViewModel: AuthViewModel)</code></span></p><ul class="list _bullet" id="-ijykmk_25"><li class="list__item" id="-ijykmk_28"><p>Defines the sign-up screen as a composable function.</p></li><li class="list__item" id="-ijykmk_29"><p>Parameters: </p><ul class="list _bullet" id="-ijykmk_30"><li class="list__item" id="-ijykmk_31"><p><code class="code" id="-ijykmk_33">navController</code>: The navigation controller to manage app navigation.</p></li><li class="list__item" id="-ijykmk_32"><p><code class="code" id="-ijykmk_34">authViewModel</code>: The view model that handles authentication.</p></li></ul></li></ul></li><li class="list__item" id="-ijykmk_13"><p id="-ijykmk_35"><span class="control" id="-ijykmk_37">State Variables</span></p><ul class="list _bullet" id="-ijykmk_36"><li class="list__item" id="-ijykmk_38"><p><span class="control" id="-ijykmk_44"><code class="code" id="-ijykmk_45">var email by remember { mutableStateOf(&quot;&quot;) }</code></span>: Holds the email input value.</p></li><li class="list__item" id="-ijykmk_39"><p><span class="control" id="-ijykmk_46"><code class="code" id="-ijykmk_47">var password by remember { mutableStateOf(&quot;&quot;) }</code></span>: Holds the password input value.</p></li><li class="list__item" id="-ijykmk_40"><p><span class="control" id="-ijykmk_48"><code class="code" id="-ijykmk_49">var confirmPassword by remember { mutableStateOf(&quot;&quot;) }</code></span>: Holds the confirmation password input value.</p></li><li class="list__item" id="-ijykmk_41"><p><span class="control" id="-ijykmk_50"><code class="code" id="-ijykmk_51">var showError by remember { mutableStateOf(false) }</code></span>: Flag to show or hide error messages.</p></li><li class="list__item" id="-ijykmk_42"><p><span class="control" id="-ijykmk_52"><code class="code" id="-ijykmk_53">var errorMessage by remember { mutableStateOf(&quot;&quot;) }</code></span>: Stores the error message text.</p></li><li class="list__item" id="-ijykmk_43"><p><span class="control" id="-ijykmk_54"><code class="code" id="-ijykmk_55">var isSigningUp by remember { mutableStateOf(false) }</code></span>: Flag to indicate if sign-up process is ongoing.</p></li></ul></li><li class="list__item" id="-ijykmk_14"><p id="-ijykmk_56"><span class="control" id="-ijykmk_58"><code class="code" id="-ijykmk_59">Box(modifier = Modifier.fillMaxSize().background(MaterialTheme.colorScheme.background))</code></span></p><ul class="list _bullet" id="-ijykmk_57"><li class="list__item" id="-ijykmk_60"><p>Root container that fills the available space and sets the background color.</p></li></ul></li><li class="list__item" id="-ijykmk_15"><p id="-ijykmk_61"><span class="control" id="-ijykmk_63"><code class="code" id="-ijykmk_64">Column(modifier = Modifier.fillMaxSize().padding(24.dp), ...)</code></span></p><ul class="list _bullet" id="-ijykmk_62"><li class="list__item" id="-ijykmk_65"><p>Vertical layout container that holds the sign-up elements.</p></li><li class="list__item" id="-ijykmk_66"><p>Centers its children both horizontally and vertically.</p></li></ul></li><li class="list__item" id="-ijykmk_16"><p id="-ijykmk_67"><span class="control" id="-ijykmk_69"><code class="code" id="-ijykmk_70">Text(&quot;Create Account&quot;, style = MaterialTheme.typography.headlineLarge, ...)</code></span></p><ul class="list _bullet" id="-ijykmk_68"><li class="list__item" id="-ijykmk_71"><p>Title text for the sign-up screen.</p></li><li class="list__item" id="-ijykmk_72"><p>Uses the primary color and bold font weight.</p></li></ul></li><li class="list__item" id="-ijykmk_17"><p id="-ijykmk_73"><span class="control" id="-ijykmk_75"><code class="code" id="-ijykmk_76">Spacer(modifier = Modifier.height(32.dp))</code></span></p><ul class="list _bullet" id="-ijykmk_74"><li class="list__item" id="-ijykmk_77"><p>Adds vertical space between UI elements.</p></li></ul></li><li class="list__item" id="-ijykmk_18"><p id="-ijykmk_78"><span class="control" id="-ijykmk_80"><code class="code" id="-ijykmk_81">Card(modifier = Modifier.fillMaxWidth().padding(horizontal = 16.dp), ...)</code></span></p><ul class="list _bullet" id="-ijykmk_79"><li class="list__item" id="-ijykmk_82"><p>Displays the input fields for email, password, and confirmation password.</p></li><li class="list__item" id="-ijykmk_83"><p>Parameters: </p><ul class="list _bullet" id="-ijykmk_84"><li class="list__item" id="-ijykmk_85"><p><code class="code" id="-ijykmk_88">modifier</code>: Sets the width and horizontal padding of the card.</p></li><li class="list__item" id="-ijykmk_86"><p><code class="code" id="-ijykmk_89">elevation</code>: Sets the card elevation for shadow effect, using <code class="code" id="-ijykmk_90">CardDefaults.cardElevation</code>.</p></li><li class="list__item" id="-ijykmk_87"><p><code class="code" id="-ijykmk_91">shape</code>: Sets the shape of the card with rounded corners.</p></li></ul></li></ul></li><li class="list__item" id="-ijykmk_19"><p id="-ijykmk_92"><span class="control" id="-ijykmk_94"><code class="code" id="-ijykmk_95">Column(modifier = Modifier.fillMaxWidth().padding(24.dp), verticalArrangement = Arrangement.spacedBy(16.dp))</code></span></p><ul class="list _bullet" id="-ijykmk_93"><li class="list__item" id="-ijykmk_96"><p>Inner vertical layout within the card for input fields and buttons.</p></li><li class="list__item" id="-ijykmk_97"><p>Arranges its children with spaced margins.</p></li></ul></li><li class="list__item" id="-ijykmk_20"><p id="-ijykmk_98"><span class="control" id="-ijykmk_100"><code class="code" id="-ijykmk_101">AuthTextField(value = email, onValueChange = { email = it }, label = &quot;Email&quot;, icon = Icons.Default.Email)</code></span></p><ul class="list _bullet" id="-ijykmk_99"><li class="list__item" id="-ijykmk_102"><p>Input field for email, utilizing the custom <code class="code" id="-ijykmk_104">AuthTextField</code> composable.</p></li><li class="list__item" id="-ijykmk_103"><p>Displays an email icon.</p></li></ul></li><li class="list__item" id="-ijykmk_21"><p id="-ijykmk_105"><span class="control" id="-ijykmk_107"><code class="code" id="-ijykmk_108">AuthTextField(value = password, onValueChange = { password = it }, label = &quot;Password&quot;, icon = Icons.Default.Lock, isPassword = true)</code></span></p><ul class="list _bullet" id="-ijykmk_106"><li class="list__item" id="-ijykmk_109"><p>Input field for password, utilizing the custom <code class="code" id="-ijykmk_111">AuthTextField</code> composable.</p></li><li class="list__item" id="-ijykmk_110"><p>Sets <code class="code" id="-ijykmk_112">isPassword</code> to true for input masking.</p></li></ul></li><li class="list__item" id="-ijykmk_22"><p id="-ijykmk_113"><span class="control" id="-ijykmk_115"><code class="code" id="-ijykmk_116">AuthTextField(value = confirmPassword, onValueChange = { confirmPassword = it }, label = &quot;Confirm Password&quot;, icon = Icons.Default.Lock, isPassword = true)</code></span></p><ul class="list _bullet" id="-ijykmk_114"><li class="list__item" id="-ijykmk_117"><p>Input field for confirming the password.</p></li><li class="list__item" id="-ijykmk_118"><p>Ensures the entered password matches the confirmation password.</p></li></ul></li><li class="list__item" id="-ijykmk_23"><p id="-ijykmk_119"><span class="control" id="-ijykmk_121"><code class="code" id="-ijykmk_122">Button(onClick = { isSigningUp = true }, enabled = !isSigningUp)</code></span></p><ul class="list _bullet" id="-ijykmk_120"><li class="list__item" id="-ijykmk_123"><p>Sign-up button.</p></li><li class="list__item" id="-ijykmk_124"><p>Starts the sign-up process when clicked.</p></li><li class="list__item" id="-ijykmk_125"><p>Disabled while <code class="code" id="-ijykmk_126">isSigningUp</code> is true to prevent multiple submissions.</p></li></ul></li></ul></section></section><section class="chapter"><h2 id="related-files" data-toc="related-files">Related Files</h2><ul class="list _bullet" id="-ijykmk_127"><li class="list__item" id="-ijykmk_128"><p><span class="control" id="-ijykmk_131"><a href="authviewmodel.html" id="-ijykmk_132" data-tooltip="This file defines the AuthViewModel class, which handles user authentication and profile management. It interacts with Firebase Authentication to perform actions such as sign-in, sign-out, user creation, and profile updates. The class utilizes Kotlin Coroutines and StateFlow to…">AuthViewModel.kt</a>:</span> Manages user authentication and handles sign-up operations.</p></li><li class="list__item" id="-ijykmk_129"><p><span class="control" id="-ijykmk_133"><a href="navgraph.html" id="-ijykmk_134" data-tooltip="This file defines the navigation graph for the application, which controls the navigation flow between different screens. It uses Jetpack Compose's Navigation component to manage the navigation stack and transitions.">NavGraph.kt</a>:</span> Defines the navigation routes, including the sign-up screen.</p></li><li class="list__item" id="-ijykmk_130"><p><span class="control" id="-ijykmk_135"><a href="signinscreen.html" id="-ijykmk_136" data-tooltip="This file defines the sign-in screen component for the application. The screen allows users to sign in using their email and password. It utilizes Jetpack Compose to create a responsive and interactive UI. The authentication process is managed by AuthViewModel.">SignInScreen.kt</a>:</span> Companion screen for user sign-in within the authentication flow.</p></li></ul></section><section class="chapter"><h2 id="usage" data-toc="usage">Usage</h2><p id="-ijykmk_137">The <code class="code" id="-ijykmk_140">SignUpScreen</code> is used for user registration within the app. Here is how it can be integrated and used:</p><section class="chapter"><h3 id="example-usage-in-navgraph" data-toc="example-usage-in-navgraph">Example Usage in NavGraph</h3><p id="-ijykmk_141">Include the <code class="code" id="-ijykmk_143">SignUpScreen</code> in the navigation graph to enable navigation to the sign-up screen:</p><div class="code-block" data-lang="kotlin">
composable(route = Screens.SignUp.route) {
    SignUpScreen(navController = navController, authViewModel = authViewModel)
}
</div></section><section class="chapter"><h3 id="handling-sign-up" data-toc="handling-sign-up">Handling Sign-Up</h3><p id="-ijykmk_144">The sign-up button initiates the registration process, managed by <code class="code" id="-ijykmk_146">AuthViewModel</code>:</p><div class="code-block" data-lang="kotlin">
Button(
    onClick = {
        isSigningUp = true
        // Register user
        viewModelScope.launch {
            if (password != confirmPassword) {
                showError = true
                errorMessage = &quot;Passwords do not match&quot;
                isSigningUp = false
                return@launch
            }

            val result = authViewModel.createUserWithEmailAndPassword(email, password)
            isSigningUp = false
            if (result is AuthResult.Success) {
                // Navigate to sign-in or home screen
                navController.navigate(Screens.SignIn.route)
            } else if (result is AuthResult.Failure) {
                // Display error message
                showError = true
                errorMessage = result.message
            }
        }
    },
    enabled = !isSigningUp
) {
    Text(&quot;Create Account&quot;)
}
</div></section></section><section class="chapter"><h2 id="additional-notes" data-toc="additional-notes">Additional Notes</h2><ul class="list _bullet" id="-ijykmk_147"><li class="list__item" id="-ijykmk_148"><p>The screen provides a clean and user-friendly interface for user registration.</p></li><li class="list__item" id="-ijykmk_149"><p>It ensures responsive design and optimal user experience across different devices.</p></li><li class="list__item" id="-ijykmk_150"><p>Proper state management and error handling enhance the reliability of the registration process.</p></li><li class="list__item" id="-ijykmk_151"><p>Ensures password and confirmation password match to prevent user errors.</p></li></ul></section><div class="last-modified">Last modified: 30 ottobre 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="signinscreen.html" class="navigation-links__prev">Sign-In Screen (SignInScreen.kt)</a><a href="userprofilescreen.html" class="navigation-links__next">User Profile Screen (UserProfileScreen.kt)</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.js"></script></body></html>