<!DOCTYPE html><html><head><meta charset="UTF-8"><script src="https://cdn.jsdelivr.net/npm/prismjs/prism.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-kotlin.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/prism.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-none.min.js"></script><style>
        .article {
            position: relative;
            padding-bottom: 24px;
        }
        

        .center {
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        

        .center-text {
            text-align: center;
        }
        

        .code-block {
            overflow: hidden;
            position: relative;
            padding: 0;
            border-radius: 8px;
            font-variant-ligatures: none;
            background-color: rgba(25, 25, 28, .05);
            word-break: break-all;
        }
        

        .container {
            max-width: 100%;
            overflow: hidden;
            page-break-inside: avoid;
            display: block;
        }
        

        .control {
            color: #19191c;
            font-size: 16px;
            font-weight: 670;
        }
        

        .detached {
            margin-block-start: 0;
            margin-block-end: 0;
            margin-bottom: 8px;
        }
        

        .header-row {
            background: #e6e6e6;
        }
        

        .image {
            max-width: 100%;
            max-height: 90vh;
            height: auto;
        }
        

        .image-container {
            max-width: 100vw;
        }
        

        .image-size {
            height: auto;
        }
        

        .inline-code {
            border-radius: 4px;
            display: inline;
            padding: 2px 1px;
            font-family: JetBrains Sans,monospace;
            background: #e6e6e6;
        }
        

        .list {
            list-style-type: disc;
            padding-left: 0;
            margin-left: 15px;
        }
        

        .list-decimal {
            list-style-type: decimal;
        }
        

        .list-item {
            margin-top: 6px;
            margin-bottom: 6px;
            margin-left: 4px;
        }
        

        .main-title {
            padding-bottom: 24px;
            margin-top: 0;
            font-size: 40px;
            margin-block-start: 0;
            margin-block-end: 0;
        }
        

        .prism {
            page-break-inside: avoid;
        }
        
        /* PrismJS 1.29.0
https://prismjs.com/download.html#themes=prism&languages=markup+css+clike+javascript+abap+abnf+actionscript+ada+agda+al+antlr4+apacheconf+apex+apl+applescript+aql+arduino+arff+armasm+arturo+asciidoc+aspnet+asm6502+asmatmel+autohotkey+autoit+avisynth+avro-idl+awk+bash+basic+batch+bbcode+bbj+bicep+birb+bison+bnf+bqn+brainfuck+brightscript+bro+bsl+c+csharp+cpp+cfscript+chaiscript+cil+cilkc+cilkcpp+clojure+cmake+cobol+coffeescript+concurnas+csp+cooklang+coq+crystal+css-extras+csv+cue+cypher+d+dart+dataweave+dax+dhall+diff+django+dns-zone-file+docker+dot+ebnf+editorconfig+eiffel+ejs+elixir+elm+etlua+erb+erlang+excel-formula+fsharp+factor+false+firestore-security-rules+flow+fortran+ftl+gml+gap+gcode+gdscript+gedcom+gettext+gherkin+git+glsl+gn+linker-script+go+go-module+gradle+graphql+groovy+haml+handlebars+haskell+haxe+hcl+hlsl+hoon+http+hpkp+hsts+ichigojam+icon+icu-message-format+idris+ignore+inform7+ini+io+j+java+javadoc+javadoclike+javastacktrace+jexl+jolie+jq+jsdoc+js-extras+json+json5+jsonp+jsstacktrace+js-templates+julia+keepalived+keyman+kotlin+kumir+kusto+latex+latte+less+lilypond+liquid+lisp+livescript+llvm+log+lolcode+lua+magma+makefile+markdown+markup-templating+mata+matlab+maxscript+mel+mermaid+metafont+mizar+mongodb+monkey+moonscript+n1ql+n4js+nand2tetris-hdl+naniscript+nasm+neon+nevod+nginx+nim+nix+nsis+objectivec+ocaml+odin+opencl+openqasm+oz+parigp+parser+pascal+pascaligo+psl+pcaxis+peoplecode+perl+php+phpdoc+php-extras+plant-uml+plsql+powerquery+powershell+processing+prolog+promql+properties+protobuf+pug+puppet+pure+purebasic+purescript+python+qsharp+q+qml+qore+r+racket+cshtml+jsx+tsx+reason+regex+rego+renpy+rescript+rest+rip+roboconf+robotframework+ruby+rust+sas+sass+scss+scala+scheme+shell-session+smali+smalltalk+smarty+sml+solidity+solution-file+soy+sparql+splunk-spl+sqf+sql+squirrel+stan+stata+iecst+stylus+supercollider+swift+systemd+t4-templating+t4-cs+t4-vb+tap+tcl+tt2+textile+toml+tremor+turtle+twig+typescript+typoscript+unrealscript+uorazor+uri+v+vala+vbnet+velocity+verilog+vhdl+vim+visual-basic+warpscript+wasm+web-idl+wgsl+wiki+wolfram+wren+xeora+xml-doc+xojo+xquery+yaml+yang+zig&plugins=highlight-keywords */
code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:16px;margin:0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}

        

        :root {
            width: 95%;
            max-width: 95vw;
            padding: 0 0 0 30px;
        }
        
        body {
            font-family: JetBrains Sans,serif;
        }
        
        a {
            overflow-wrap: anywhere;
            width: 100vw;
        }
        
        
        @font-face {
            font-family: JetBrains Sans;
            src: url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-Light.woff2) format("woff2"), url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-Light.woff) format("woff");
            font-weight: 300;
            font-style: normal;
        }

        @font-face {
            font-family: JetBrains Sans;
            src: url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-Regular.woff2) format("woff2"), url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-Regular.woff) format("woff");
            font-weight: 400;
            font-style: normal;
        }

        @font-face {
            font-family: JetBrains Sans;
            src: url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-SemiBold.woff2) format("woff2"), url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-SemiBold.woff) format("woff");
            font-weight: 600;
            font-style: normal;
        }
        
        
        code {
            display: inline;
            word-break: break-word;
            font-size: 15px;
            line-height: inherit;
            font-variant-ligatures: none;
            font-family: JetBrains Sans,monospace;
            white-space: pre-line;
            overflow-wrap: break-word;
        }
        
        figcaption {
            margin-top: 5px;
        }
        
        h2 {
            padding-top: 16px;
            padding-bottom: 8px;
            margin-block-start: 0;
            margin-block-end: 0;
        }
        
        h3 {
            padding-top: 8px;
            padding-bottom: 8px;
            margin-block-start: 0;
            margin-block-end: 0;
        }
        
        h4 {
            padding-top: 4px;
            padding-bottom: 8px;
            margin-block-start: 0;
            margin-block-end: 0;
        }
        
        p {
            padding: 0;
            border: 0;
            line-height: 25px;
            margin-block-start: 0;
            margin-block-end: 0;
            padding-bottom: 8px;
        }
        
        div {
            display: block;
        }
        
        table {
            border-collapse: collapse;
            width: 100%;
            page-break-inside: avoid;
        }
        
        th, td {
            border: 1px solid #c4c4c4;
            padding: 10px;
            text-align: left;
            word-break: break-all;
        }
        
        .entry {
            display: grid;
            grid-template-columns: auto max-content;
            grid-template-areas: "chapter page";
            align-items: end;
            gap: 0 .25rem;
            line-height: 25px;
        }
        
        .toc-link-container{
            grid-area: chapter;
            position: relative;
            overflow: hidden;
        }
        
        .toc-link{
            text-decoration: none;
            color: black;
        }
        
        .toc-link-container::after {
            position: absolute;
            padding-left: .25ch;
            content: " . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . "
            ". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . "
            ". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ";
            text-align: right;
        }
        
        .page {
            grid-area: page;
            width: 30px;
            text-align: right;
        }
        

        .table-wrapper {
            overflow: hidden;
            box-sizing: border-box;
            font: inherit;
        }
        

        .topic {
            page-break-before: always;
        }
        </style><title>pdfSourceIN</title></head><body><div><section class="topic"><div><article class="article"><h1 class="main-title">Table of contents</h1><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-1881649746">Voci app Documentation</a></div><div class="page">2</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-703928985">Screens (Screens.kt)</a></div><div class="page">7</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#2136066571">Navigation Graph (NavGraph.kt)</a></div><div class="page">10</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#2093486830">Sign-In Screen (SignInScreen.kt)</a></div><div class="page">14</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-987585564">Sign-Up Screen (SignUpScreen.kt)</a></div><div class="page">19</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#351066442">User Profile Screen (UserProfileScreen.kt)</a></div><div class="page">24</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#12256129">Update User Profile Screen (UpdateUserProfileScreen.kt)</a></div><div class="page">28</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#2622298">Typography (Type.kt)</a></div><div class="page">33</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#80774569">Theme (Theme.kt)</a></div><div class="page">36</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#2023991696">Color Palette</a></div><div class="page">40</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-509870436">Authentication ViewModel (AuthViewModel.kt)</a></div><div class="page">44</div></div></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-1881649746">Voci app Documentation</h1><section><h2 id="-1881649746#introduction" data-toc="introduction#README.md-introduction">Introduction</h2><div class="container"><figure class="image-container"><img class="center image image-size" id="-1881649746#b4uvcp_10" alt="Kotlin" title="Kotlin" src="https://img.shields.io/badge/Kotlin-0095D5?style=for-the-badge&amp;logo=kotlin&amp;logoColor=white"><figcaption class="center-text">Kotlin</figcaption></figure></div><section><h3 id="-1881649746#overview" data-toc="overview#README.md-overview">Overview</h3><p id="-1881649746#b4uvcp_14">This project was created as an assignment for the University of Milano Bicocca course &quot;Dispositivi Mobili&quot;.</p></section><section><h3 id="-1881649746#idea" data-toc="idea#README.md-idea">Idea</h3><p id="-1881649746#b4uvcp_15">The idea is to create an app that would help catalog and manage requests and updates about homeless people in Milan. It was born because of a member of the team who is also a member of the VoCi ONLUS, an organization that aims to aid the homeless people of their city. Website: VoCi ONLUS (<a href="https://www.volontaricittadini.it">https://www.volontaricittadini.it</a>)</p></section><section><h3 id="-1881649746#team" data-toc="team#README.md-team">Team</h3><p id="-1881649746#b4uvcp_17">We are students of the University of Milano Bicocca (<a href="https://www.unimib.it/">https://www.unimib.it/</a>), and we are interested in making an app that not only will get us a good mark but that can be used and can be helpful to a good cause.</p><ul class="list" id="-1881649746#b4uvcp_18" start="1"><li class="list-item" id="-1881649746#b4uvcp_20"><p>Samuele &quot;DreoX&quot; - 904280</p></li><li class="list-item" id="-1881649746#b4uvcp_21"><p>Matthias &quot;Inutiliax&quot; - 894374</p></li><li class="list-item" id="-1881649746#b4uvcp_22"><p>Olcio &quot;Tu padre&quot; - 000000</p></li><li class="list-item" id="-1881649746#b4uvcp_23"><p>Enrico &quot;Il magnifico&quot; - 000000</p></li><li class="list-item" id="-1881649746#b4uvcp_24"><p>Gabriele &quot;Fish&quot; - 000000</p></li></ul></section></section><section><h2 id="-1881649746#technologies" data-toc="technologies#README.md-technologies">Technologies</h2><section><h3 id="-1881649746#ides" data-toc="ides#README.md-ides">IDEs</h3><p id="-1881649746#b4uvcp_27">We used Android Studio to write and test the code and Writerside to write the documentation. Both come from a well-established company in the coding world called &quot;JetBrains&quot;. Android Studio is built in conjunction with Google.</p></section><section><h3 id="-1881649746#languages-and-libraries" data-toc="languages-and-libraries#README.md-languages-and-libraries">Languages and Libraries</h3><p id="-1881649746#b4uvcp_28">Our app is primarily written in Kotlin, a modern, concise, and type-safe programming language designed for Android development. It leverages various libraries to enhance functionality:</p><ul class="list" id="-1881649746#b4uvcp_29" start="1"><li class="list-item" id="-1881649746#b4uvcp_30"><p><span class="control" id="-1881649746#b4uvcp_35">Jetpack</span>: A suite of libraries from Google that simplify common Android development tasks. This includes libraries for navigation, lifecycle management, UI components, and more.</p></li><li class="list-item" id="-1881649746#b4uvcp_31"><p><span class="control" id="-1881649746#b4uvcp_36">Material Design 3</span>: The latest iteration of Google's Material Design system for Android. It provides a consistent and beautiful design language with pre-built components like buttons, text fields, and cards.</p></li><li class="list-item" id="-1881649746#b4uvcp_32"><p><span class="control" id="-1881649746#b4uvcp_37">Gradle</span>: A build automation tool that manages dependencies, builds your app, and packages it for distribution.</p></li><li class="list-item" id="-1881649746#b4uvcp_33"><p><span class="control" id="-1881649746#b4uvcp_38">Firebase</span>: Google's mobile app development platform. We utilize Firebase to: </p><ul class="list" id="-1881649746#b4uvcp_39" start="1"><li class="list-item" id="-1881649746#b4uvcp_40"><p><span class="control" id="-1881649746#b4uvcp_42">Store user data and app data</span>: Firebase Firestore, a NoSQL cloud database, provides flexible and scalable data storage for your app.</p></li><li class="list-item" id="-1881649746#b4uvcp_41"><p><span class="control" id="-1881649746#b4uvcp_43">Firebase Authentication (Auth)</span>: Simplifies user authentication and management, allowing users to sign in with various methods like email/password or social logins.</p></li></ul></li><li class="list-item" id="-1881649746#b4uvcp_34"><p><span class="control" id="-1881649746#b4uvcp_44">Git &amp; GitHub</span>: Basic tools for version control and code sharing. We could have used GitLabs but we were more familiar with Github having used it for previous courses (Also we can't give all the data to Google, we have to share it with Microsoft as well).</p></li></ul></section></section><section><h2 id="-1881649746#project" data-toc="project#README.md-project">Project</h2><section><h3 id="-1881649746#folder-structure" data-toc="folder-structure#README.md-folder-structure">Folder structure</h3><div class="detached code-block" id="-1881649746#b4uvcp_46"><pre><code class="language-none">vociapp/
├── MainActivity.kt
├── ui/
│   ├── navigation/
│   │   ├── Screens.kt
│   │   └── NavGraph.kt
│   ├── screens/
│   │   ├── auth/
│   │   │   ├── SignInScreen.kt
│   │   │   └── SignUpScreen.kt
│   │   └── profile/
│   │       ├── UserProfileScreen.kt
│   │       └── UpdateProfileScreen.kt
│   ├── theme/
│   │   └── Theme.kt
│   └── viewmodels/
│       ├── AuthViewModel.kt
│       └── AuthState.kt
└── di/
    └── AppModule.kt</code></pre></div></section></section><section><h2 id="-1881649746#screens-and-navigation" data-toc="screens-and-navigation#README.md-screens-and-navigation">Screens and Navigation</h2><section><h3 id="-1881649746#authentication-screens" data-toc="authentication-screens#README.md-authentication-screens">Authentication Screens</h3><section><h4 id="-1881649746#sign-in-screen" data-toc="sign-in-screen#README.md-sign-in-screen">Sign-In Screen</h4><p id="-1881649746#b4uvcp_51">The <span class="inline-code" id="-1881649746#b4uvcp_52">SignInScreen</span> allows users to sign in using their email and password. It integrates with <span class="inline-code" id="-1881649746#b4uvcp_53">AuthViewModel</span> to handle the sign-in process. The screen layout includes input fields for email and password, and a button to submit the sign-in request.</p></section><section><h4 id="-1881649746#sign-up-screen" data-toc="sign-up-screen#README.md-sign-up-screen">Sign-Up Screen</h4><p id="-1881649746#b4uvcp_54">The <span class="inline-code" id="-1881649746#b4uvcp_55">SignUpScreen</span> allows users to create a new account. It includes input fields for email, password, and confirmation password. The <span class="inline-code" id="-1881649746#b4uvcp_56">AuthViewModel</span> manages user registration and handles any errors during the process.</p></section></section><section><h3 id="-1881649746#profile-screens" data-toc="profile-screens#README.md-profile-screens">Profile Screens</h3><section><h4 id="-1881649746#user-profile-screen" data-toc="user-profile-screen#README.md-user-profile-screen">User Profile Screen</h4><p id="-1881649746#b4uvcp_59">The <span class="inline-code" id="-1881649746#b4uvcp_60">UserProfileScreen</span> displays the profile information of the logged-in user. It retrieves data from <span class="inline-code" id="-1881649746#b4uvcp_61">AuthViewModel</span> and shows details like display name and profile picture.</p></section><section><h4 id="-1881649746#update-profile-screen" data-toc="update-profile-screen#README.md-update-profile-screen">Update Profile Screen</h4><p id="-1881649746#b4uvcp_62">The <span class="inline-code" id="-1881649746#b4uvcp_63">UpdateProfileScreen</span> allows users to update their profile information, such as their display name and profile picture. Changes are processed and stored using the <span class="inline-code" id="-1881649746#b4uvcp_64">AuthViewModel</span>.</p></section></section></section><section><h2 id="-1881649746#dependencies-and-modules" data-toc="dependencies-and-modules#README.md-dependencies-and-modules">Dependencies and Modules</h2><section><h3 id="-1881649746#dependency-injection-di" data-toc="dependency-injection-di#README.md-dependency-injection-di">Dependency Injection (DI)</h3><p id="-1881649746#b4uvcp_67">We use Dagger (<a href="https://dagger.dev/">https://dagger.dev/</a>) for dependency injection to provide the app's components with necessary dependencies. Configuration is done in <span class="inline-code" id="-1881649746#b4uvcp_69">AppModule.kt</span> under the <span class="inline-code" id="-1881649746#b4uvcp_70">di</span> directory.</p></section><section><h3 id="-1881649746#gradle-configuration" data-toc="gradle-configuration#README.md-gradle-configuration">Gradle Configuration</h3><p id="-1881649746#b4uvcp_71">Our <span class="inline-code" id="-1881649746#b4uvcp_72">build.gradle</span> files are configured to include necessary dependencies for Android development, Jetpack libraries, Firebase services, and other essential libraries.</p></section></section><section><h2 id="-1881649746#getting-started" data-toc="getting-started#README.md-getting-started">Getting Started</h2><section><h3 id="-1881649746#prerequisites" data-toc="prerequisites#README.md-prerequisites">Prerequisites</h3><ul class="list" id="-1881649746#b4uvcp_75" start="1"><li class="list-item" id="-1881649746#b4uvcp_76"><p>Android Studio installed</p></li><li class="list-item" id="-1881649746#b4uvcp_77"><p>Kotlin plugin enabled</p></li><li class="list-item" id="-1881649746#b4uvcp_78"><p>Firebase project setup with Firestore and Authentication enabled</p></li></ul></section><section><h3 id="-1881649746#installation" data-toc="installation#README.md-installation">Installation</h3><ol class="list list-decimal" id="-1881649746#b4uvcp_79" type="1" start="1"><li class="list-item" id="-1881649746#b4uvcp_80"><p>Clone the repository from GitHub.</p></li><li class="list-item" id="-1881649746#b4uvcp_81"><p>Open the project in Android Studio.</p></li><li class="list-item" id="-1881649746#b4uvcp_82"><p>Sync the Gradle files to download dependencies.</p></li><li class="list-item" id="-1881649746#b4uvcp_83"><p>Configure Firebase by adding the <span class="inline-code" id="-1881649746#b4uvcp_85">google-services.json</span> file to the <span class="inline-code" id="-1881649746#b4uvcp_86">app</span> directory.</p></li><li class="list-item" id="-1881649746#b4uvcp_84"><p>Run the project on an Android emulator or physical device.</p></li></ol></section></section><section><h2 id="-1881649746#acknowledgements" data-toc="acknowledgements#README.md-acknowledgements">Acknowledgements</h2><p id="-1881649746#b4uvcp_87">We would like to thank:</p><ul class="list" id="-1881649746#b4uvcp_88" start="1"><li class="list-item" id="-1881649746#b4uvcp_89"><p>Our professor for the guidance and support throughout the course.</p></li><li class="list-item" id="-1881649746#b4uvcp_90"><p>VoCi ONLUS for inspiring the project concept and their ongoing work to aid the homeless community.</p></li></ul></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-703928985">Screens (Screens.kt)</h1><section><h2 id="-703928985#overview" data-toc="overview#Screens.md-overview">Overview</h2><p id="-703928985#z4al6qk_8">This file defines the screen routes and their associated data for navigation within the application. It uses a sealed class to represent different screens and provides a central place to manage navigation destinations.</p></section><section><h2 id="-703928985#code-explanation" data-toc="code-explanation#Screens.md-code-explanation">Code Explanation</h2><section><h3 id="-703928985#breakdown" data-toc="breakdown#Screens.md-breakdown">Breakdown</h3><ul class="list" id="-703928985#z4al6qk_10" start="1"><li class="list-item" id="-703928985#z4al6qk_11"><p><span class="control" id="-703928985#z4al6qk_14"><span class="inline-code" id="-703928985#z4al6qk_16">sealed class Screens(val route: String, val title: String, val icon: ImageVector)</span></span></p><ul class="list" id="-703928985#z4al6qk_15" start="1"><li class="list-item" id="-703928985#z4al6qk_17"><p>A sealed class is used to represent the different screens in the application. This ensures that all possible screens are defined within this class and prevents the creation of arbitrary screen types.</p></li></ul></li><li class="list-item" id="-703928985#z4al6qk_12"><p><span class="control" id="-703928985#z4al6qk_18"><span class="inline-code" id="-703928985#z4al6qk_20">object Home : Screens(&quot;home&quot;, title = &quot;Home&quot;, icon = Icons.Filled.Home)</span></span></p><ul class="list" id="-703928985#z4al6qk_19" start="1"><li class="list-item" id="-703928985#z4al6qk_21"><p>Each screen is defined as an object within the Screens sealed class.</p></li><li class="list-item" id="-703928985#z4al6qk_22"><p>Each screen object has the following properties: </p><ul class="list" id="-703928985#z4al6qk_23" start="1"><li class="list-item" id="-703928985#z4al6qk_24"><p><span class="inline-code" id="-703928985#z4al6qk_27">route</span>: A string representing the unique route for the screen. This is used by the navigation system to identify and navigate to the screen.</p></li><li class="list-item" id="-703928985#z4al6qk_25"><p><span class="inline-code" id="-703928985#z4al6qk_28">title</span>: A string representing the title of the screen, used in the BottomBar (<a href="#148559304">Bottom Navigation Bar (BottomBar.kt)</a>).</p></li><li class="list-item" id="-703928985#z4al6qk_26"><p><span class="inline-code" id="-703928985#z4al6qk_30">icon</span>: An <span class="inline-code" id="-703928985#z4al6qk_31">ImageVector</span> representing the icon associated with the screen, used in the BottomBar (<a href="#148559304">Bottom Navigation Bar (BottomBar.kt)</a>).</p></li></ul></li></ul></li><li class="list-item" id="-703928985#z4al6qk_13"><p><span class="control" id="-703928985#z4al6qk_33">Screens list:</span></p><ul class="list" id="-703928985#z4al6qk_34" start="1"><li class="list-item" id="-703928985#z4al6qk_35"><p><span class="inline-code" id="-703928985#z4al6qk_40">Home</span></p></li><li class="list-item" id="-703928985#z4al6qk_36"><p><span class="inline-code" id="-703928985#z4al6qk_41">UserProfile</span></p></li><li class="list-item" id="-703928985#z4al6qk_37"><p><span class="inline-code" id="-703928985#z4al6qk_42">UpdateUserProfile</span></p></li><li class="list-item" id="-703928985#z4al6qk_38"><p><span class="inline-code" id="-703928985#z4al6qk_43">SignIn</span></p></li><li class="list-item" id="-703928985#z4al6qk_39"><p><span class="inline-code" id="-703928985#z4al6qk_44">SignUp</span></p></li></ul></li></ul></section></section><section><h2 id="-703928985#usage" data-toc="usage#Screens.md-usage">Usage</h2><section><h3 id="-703928985#navgraph" data-toc="navgraph#Screens.md-navgraph">NavGraph</h3><p id="-703928985#z4al6qk_47">The screen routes defined in <span class="inline-code" id="-703928985#z4al6qk_49">Screens.kt</span> are used in the NavGraph (<a href="#2136066571">Navigation Graph (NavGraph.kt)</a>) to define navigation destinations:</p><div class="detached code-block" id="-703928985#z4al6qk_48"><pre><code class="language-kotlin">// In NavGraph.kt

composable(route = Screens.Home.route) {
    HomeScreen()
} 

composable(route = Screens.UserProfile.route) {
    UserProfileScreen()
}</code></pre></div></section><section><h3 id="-703928985#bottombar" data-toc="bottombar#Screens.md-bottombar">BottomBar</h3><p id="-703928985#z4al6qk_51">The screen <span class="inline-code" id="-703928985#z4al6qk_53">title</span> and <span class="inline-code" id="-703928985#z4al6qk_54">icon</span> are used in the BottomBar (<a href="#148559304">Bottom Navigation Bar (BottomBar.kt)</a>) component to render the items of the bar:</p><div class="detached code-block" id="-703928985#z4al6qk_52"><pre><code class="language-kotlin">// In BottomBar.kt

fun BottomBar(navController: NavHostController) {
    val items = listOf(
        Screens.Home,
        Screens.UserProfile
    )
    
    //other parts of the component

    NavigationBar {
        items.forEach { screen -&gt;
            NavigationBarItem(
                icon = { Icon(screen.icon, contentDescription = screen.title) },
                label = { Text(screen.title) },
                selected = currentRoute == screen.route,
                onClick = { navController.navigate(screen.route) }
            )
        }
    }
}</code></pre></div></section></section><section><h2 id="-703928985#related-files" data-toc="related-files#Screens.md-related-files">Related Files</h2><ul class="list" id="-703928985#z4al6qk_56" start="1"><li class="list-item" id="-703928985#z4al6qk_57"><p><span class="control" id="-703928985#z4al6qk_59">NavGraph (<a href="#2136066571">Navigation Graph (NavGraph.kt)</a>):</span> Uses the screen <span class="inline-code" id="-703928985#z4al6qk_60">routes</span> defined to set up navigation destinations.</p></li><li class="list-item" id="-703928985#z4al6qk_58"><p><span class="control" id="-703928985#z4al6qk_62">BottomBar (<a href="#148559304">Bottom Navigation Bar (BottomBar.kt)</a>):</span> Uses the Screens class to render the items in the bottom bar with the <span class="inline-code" id="-703928985#z4al6qk_63">icon</span> and <span class="inline-code" id="-703928985#z4al6qk_64">title</span>.</p></li></ul></section><section><h2 id="-703928985#additional-notes" data-toc="additional-notes#Screens.md-additional-notes">Additional Notes</h2><ul class="list" id="-703928985#z4al6qk_66" start="1"><li class="list-item" id="-703928985#z4al6qk_67"><p>Using a sealed class for screen routes provides type safety and ensures all possible screens are defined in a central location.</p></li><li class="list-item" id="-703928985#z4al6qk_68"><p>The <span class="inline-code" id="-703928985#z4al6qk_70">route</span> property is crucial for identifying and navigating to screens within the navigation graph.</p></li><li class="list-item" id="-703928985#z4al6qk_69"><p>The <span class="inline-code" id="-703928985#z4al6qk_71">title</span> and <span class="inline-code" id="-703928985#z4al6qk_72">icon</span> properties are used in the UI components.</p></li></ul></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="2136066571">Navigation Graph (NavGraph.kt)</h1><section><h2 id="2136066571#overview" data-toc="overview#NavGraph.md-overview">Overview</h2><p id="2136066571#-e6xp6s_8">This file defines the navigation graph for the application, which controls the navigation flow between different screens. It uses Jetpack Compose's Navigation component to manage the navigation stack and transitions.</p></section><section><h2 id="2136066571#code-explanation" data-toc="code-explanation#NavGraph.md-code-explanation">Code Explanation</h2><section><h3 id="2136066571#breakdown" data-toc="breakdown#NavGraph.md-breakdown">Breakdown</h3><ul class="list" id="2136066571#-e6xp6s_10" start="1"><li class="list-item" id="2136066571#-e6xp6s_11"><p><span class="control" id="2136066571#-e6xp6s_19"><span class="inline-code" id="2136066571#-e6xp6s_21">@Composable fun NavGraph(navController: NavHostController, paddingValues: PaddingValues)</span></span></p><ul class="list" id="2136066571#-e6xp6s_20" start="1"><li class="list-item" id="2136066571#-e6xp6s_22"><p>This composable function sets up the navigation graph using <span class="inline-code" id="2136066571#-e6xp6s_24">NavHost</span>.</p></li><li class="list-item" id="2136066571#-e6xp6s_23"><p>Parameters: </p><ul class="list" id="2136066571#-e6xp6s_25" start="1"><li class="list-item" id="2136066571#-e6xp6s_26"><p><span class="inline-code" id="2136066571#-e6xp6s_28">navController</span>: Receives the original NavHostController created in the Main Activity (<a href="#1136912392">Main Activity (MainActivity.kt)</a>).</p></li><li class="list-item" id="2136066571#-e6xp6s_27"><p><span class="inline-code" id="2136066571#-e6xp6s_30">paddingValues</span>: Receives the padding values that are default from the Scaffold (<a href="https://https://developer.android.com/develop/ui/compose/components/scaffold">https://https://developer.android.com/develop/ui/compose/components/scaffold</a>).</p></li></ul></li></ul></li><li class="list-item" id="2136066571#-e6xp6s_12"><p><span class="control" id="2136066571#-e6xp6s_32"><span class="inline-code" id="2136066571#-e6xp6s_34">val authViewModel = remember { AuthViewModel() }</span></span></p><ul class="list" id="2136066571#-e6xp6s_33" start="1"><li class="list-item" id="2136066571#-e6xp6s_35"><p>Initializes an instance of <span class="inline-code" id="2136066571#-e6xp6s_36">AuthViewModel</span> using the <span class="inline-code" id="2136066571#-e6xp6s_37">remember</span> composable for state retention across recompositions.</p></li></ul></li><li class="list-item" id="2136066571#-e6xp6s_13"><p><span class="control" id="2136066571#-e6xp6s_38"><span class="inline-code" id="2136066571#-e6xp6s_40">val authState by authViewModel.authState.collectAsState()</span></span></p><ul class="list" id="2136066571#-e6xp6s_39" start="1"><li class="list-item" id="2136066571#-e6xp6s_41"><p>Collects the authentication state from the <span class="inline-code" id="2136066571#-e6xp6s_42">AuthViewModel</span> as a state value using the <span class="inline-code" id="2136066571#-e6xp6s_43">collectAsState</span> extension function.</p></li></ul></li><li class="list-item" id="2136066571#-e6xp6s_14"><p><span class="control" id="2136066571#-e6xp6s_44"><span class="inline-code" id="2136066571#-e6xp6s_46">LaunchedEffect(authState)</span></span></p><ul class="list" id="2136066571#-e6xp6s_45" start="1"><li class="list-item" id="2136066571#-e6xp6s_47"><p>A side effect that runs whenever <span class="inline-code" id="2136066571#-e6xp6s_48">authState</span> changes. Useful for performing actions such as navigation based on the authentication state.</p></li></ul></li><li class="list-item" id="2136066571#-e6xp6s_15"><p><span class="control" id="2136066571#-e6xp6s_49"><span class="inline-code" id="2136066571#-e6xp6s_51">when (authState)</span></span></p><ul class="list" id="2136066571#-e6xp6s_50" start="1"><li class="list-item" id="2136066571#-e6xp6s_52"><p>Defines a list of actions that depend on the state of the user authentication: </p><ul class="list" id="2136066571#-e6xp6s_53" start="1"><li class="list-item" id="2136066571#-e6xp6s_54"><p><span class="inline-code" id="2136066571#-e6xp6s_56">AuthState.Authenticated</span>: The user gets routed to the Home screen.</p></li><li class="list-item" id="2136066571#-e6xp6s_55"><p><span class="inline-code" id="2136066571#-e6xp6s_57">AuthState.Unauthenticated</span>: The user gets routed to the SignIn screen.</p></li></ul></li></ul></li><li class="list-item" id="2136066571#-e6xp6s_16"><p><span class="control" id="2136066571#-e6xp6s_58"><span class="inline-code" id="2136066571#-e6xp6s_60">NavHost( navController = navController, startDestination = Screens.Home.route, modifier = Modifier.padding(paddingValues) )</span></span></p><ul class="list" id="2136066571#-e6xp6s_59" start="1"><li class="list-item" id="2136066571#-e6xp6s_61"><p>This function sets up the navigation graph with all the possible routes and the according Screens (<a href="#-703928985">Screens (Screens.kt)</a>).</p></li><li class="list-item" id="2136066571#-e6xp6s_62"><p>Parameters: </p><ul class="list" id="2136066571#-e6xp6s_64" start="1"><li class="list-item" id="2136066571#-e6xp6s_65"><p><span class="inline-code" id="2136066571#-e6xp6s_68">navController</span>: Receives the original NavHostController created in the Main Activity (<a href="#1136912392">Main Activity (MainActivity.kt)</a>).</p></li><li class="list-item" id="2136066571#-e6xp6s_66"><p><span class="inline-code" id="2136066571#-e6xp6s_70">modifier</span>: Applies the padding values.</p></li><li class="list-item" id="2136066571#-e6xp6s_67"><p><span class="inline-code" id="2136066571#-e6xp6s_71">startDestination</span> parameter specifies the initial screen to be displayed when the app launches.</p></li></ul></li></ul></li><li class="list-item" id="2136066571#-e6xp6s_17"><p><span class="control" id="2136066571#-e6xp6s_72"><span class="inline-code" id="2136066571#-e6xp6s_74">composable(route = Screens.Example.route) { ExampleScreen(navController) }</span>:</span></p><ul class="list" id="2136066571#-e6xp6s_73" start="1"><li class="list-item" id="2136066571#-e6xp6s_75"><p>Inside the <span class="inline-code" id="2136066571#-e6xp6s_77">NavHost</span> scope, <span class="inline-code" id="2136066571#-e6xp6s_78">composable</span> functions define routes for each screen.</p></li><li class="list-item" id="2136066571#-e6xp6s_76"><p>List: </p><ul class="list" id="2136066571#-e6xp6s_79" start="1"><li class="list-item" id="2136066571#-e6xp6s_80"><p><span class="inline-code" id="2136066571#-e6xp6s_85">HomeScreen</span></p></li><li class="list-item" id="2136066571#-e6xp6s_81"><p><span class="inline-code" id="2136066571#-e6xp6s_86">SignInScreen</span></p></li><li class="list-item" id="2136066571#-e6xp6s_82"><p><span class="inline-code" id="2136066571#-e6xp6s_87">SignUpScreen</span></p></li><li class="list-item" id="2136066571#-e6xp6s_83"><p><span class="inline-code" id="2136066571#-e6xp6s_88">UserProfileScreen</span></p></li><li class="list-item" id="2136066571#-e6xp6s_84"><p><span class="inline-code" id="2136066571#-e6xp6s_89">UpdateUserProfileScreen</span></p></li></ul></li></ul></li><li class="list-item" id="2136066571#-e6xp6s_18"><p><span class="control" id="2136066571#-e6xp6s_90"><span class="inline-code" id="2136066571#-e6xp6s_92">fun currentRoute(navController: NavHostController): String?</span> Helper function:</span></p><ul class="list" id="2136066571#-e6xp6s_91" start="1"><li class="list-item" id="2136066571#-e6xp6s_93"><p>This helper function retrieves the current route from anywhere inside the navigation graph.</p></li><li class="list-item" id="2136066571#-e6xp6s_94"><p>It uses the passed in <span class="inline-code" id="2136066571#-e6xp6s_95">navController</span> and <span class="inline-code" id="2136066571#-e6xp6s_96">currentBackStackEntryAsState()</span> to get the current route that can be used in components like the BottomBar (<a href="#148559304">Bottom Navigation Bar (BottomBar.kt)</a>).</p></li></ul></li></ul></section></section><section><h2 id="2136066571#related-files" data-toc="related-files#NavGraph.md-related-files">Related Files</h2><ul class="list" id="2136066571#-e6xp6s_98" start="1"><li class="list-item" id="2136066571#-e6xp6s_99"><p><span class="control" id="2136066571#-e6xp6s_101"><a href="#-703928985">Screens (Screens.kt)</a>:</span> Defines the screen routes and related properties such as <span class="inline-code" id="2136066571#-e6xp6s_102">route</span>, <span class="inline-code" id="2136066571#-e6xp6s_103">title</span>, and <span class="inline-code" id="2136066571#-e6xp6s_104">icon</span>.</p></li><li class="list-item" id="2136066571#-e6xp6s_100"><p><span class="control" id="2136066571#-e6xp6s_106"><a href="#1136912392">Main Activity (MainActivity.kt)</a>:</span> The MainActivity is the entry point of the app and is responsible for the creation of the navController.</p></li></ul></section><section><h2 id="2136066571#usage" data-toc="usage#NavGraph.md-usage">Usage</h2><section><h3 id="2136066571#navgraph" data-toc="navgraph#NavGraph.md-navgraph">NavGraph</h3><p id="2136066571#-e6xp6s_110">The <span class="inline-code" id="2136066571#-e6xp6s_112">NavGraph</span> setup is called from the main activity's <span class="inline-code" id="2136066571#-e6xp6s_113">setContent</span> block to establish the structure of navigation in your app:</p><div class="detached code-block" id="2136066571#-e6xp6s_111"><pre><code class="language-kotlin">import androidx.navigation.compose.rememberNavController
import com.example.vociapp.ui.navigation.NavGraph

val navController = rememberNavController()
NavGraph(navController = navController, paddingValues = innerPadding)</code></pre></div></section><section><h3 id="2136066571#rest-of-the-app" data-toc="rest-of-the-app#NavGraph.md-rest-of-the-app">Rest of the app</h3><p id="2136066571#-e6xp6s_114">Throughout the rest of the app we are going to use the navController parameter that is passed to every screen like this:</p><div class="detached code-block" id="2136066571#-e6xp6s_115"><pre><code class="language-kotlin">// example
navController.navigate(&quot;signIn&quot;)</code></pre></div></section></section><section><h2 id="2136066571#additional-notes" data-toc="additional-notes#NavGraph.md-additional-notes">Additional Notes</h2><ul class="list" id="2136066571#-e6xp6s_116" start="1"><li class="list-item" id="2136066571#-e6xp6s_117"><p>The navigation graph's organization allows for a clear and scalable structure for handling multiple screens.</p></li><li class="list-item" id="2136066571#-e6xp6s_118"><p>Proper management of the authentication state enhances user experience by directing them to the appropriate screens based on their login status.</p></li><li class="list-item" id="2136066571#-e6xp6s_119"><p>Remember to handle deeper navigation features or customized transitions by referring to the official Jetpack Compose Navigation documentation.</p></li></ul></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="2093486830">Sign-In Screen (SignInScreen.kt)</h1><section><h2 id="2093486830#overview" data-toc="overview#SignInScreen.md-overview">Overview</h2><p id="2093486830#flew6x_8">This file defines the sign-in screen component for the application. The screen allows users to sign in using their email and password. It utilizes Jetpack Compose to create a responsive and interactive UI. The authentication process is managed by <span class="inline-code" id="2093486830#flew6x_9">AuthViewModel</span>.</p></section><section><h2 id="2093486830#code-explanation" data-toc="code-explanation#SignInScreen.md-code-explanation">Code Explanation</h2><section><h3 id="2093486830#breakdown" data-toc="breakdown#SignInScreen.md-breakdown">Breakdown</h3><ul class="list" id="2093486830#flew6x_11" start="1"><li class="list-item" id="2093486830#flew6x_12"><p id="2093486830#flew6x_23"><span class="control" id="2093486830#flew6x_25"><span class="inline-code" id="2093486830#flew6x_26">@Composable fun SignInScreen(navController: NavHostController, authViewModel: AuthViewModel)</span></span></p><ul class="list" id="2093486830#flew6x_24" start="1"><li class="list-item" id="2093486830#flew6x_27"><p>Defines the sign-in screen as a composable function.</p></li><li class="list-item" id="2093486830#flew6x_28"><p>Parameters: </p><ul class="list" id="2093486830#flew6x_29" start="1"><li class="list-item" id="2093486830#flew6x_30"><p><span class="inline-code" id="2093486830#flew6x_32">navController</span>: The navigation controller to manage app navigation.</p></li><li class="list-item" id="2093486830#flew6x_31"><p><span class="inline-code" id="2093486830#flew6x_33">authViewModel</span>: The view model that handles authentication.</p></li></ul></li></ul></li><li class="list-item" id="2093486830#flew6x_13"><p id="2093486830#flew6x_34"><span class="control" id="2093486830#flew6x_36">State Variables</span></p><ul class="list" id="2093486830#flew6x_35" start="1"><li class="list-item" id="2093486830#flew6x_37"><p><span class="control" id="2093486830#flew6x_42"><span class="inline-code" id="2093486830#flew6x_43">var email by remember { mutableStateOf(&quot;&quot;) }</span></span>: Holds the email input value.</p></li><li class="list-item" id="2093486830#flew6x_38"><p><span class="control" id="2093486830#flew6x_44"><span class="inline-code" id="2093486830#flew6x_45">var password by remember { mutableStateOf(&quot;&quot;) }</span></span>: Holds the password input value.</p></li><li class="list-item" id="2093486830#flew6x_39"><p><span class="control" id="2093486830#flew6x_46"><span class="inline-code" id="2093486830#flew6x_47">var showError by remember { mutableStateOf(false) }</span></span>: Flag to show or hide error messages.</p></li><li class="list-item" id="2093486830#flew6x_40"><p><span class="control" id="2093486830#flew6x_48"><span class="inline-code" id="2093486830#flew6x_49">var errorMessage by remember { mutableStateOf(&quot;&quot;) }</span></span>: Stores the error message text.</p></li><li class="list-item" id="2093486830#flew6x_41"><p><span class="control" id="2093486830#flew6x_50"><span class="inline-code" id="2093486830#flew6x_51">var isSigningIn by remember { mutableStateOf(false) }</span></span>: Flag to indicate if sign-in process is ongoing.</p></li></ul></li><li class="list-item" id="2093486830#flew6x_14"><p id="2093486830#flew6x_52"><span class="control" id="2093486830#flew6x_54"><span class="inline-code" id="2093486830#flew6x_55">Box(modifier = Modifier.fillMaxSize().background(MaterialTheme.colorScheme.background))</span></span></p><ul class="list" id="2093486830#flew6x_53" start="1"><li class="list-item" id="2093486830#flew6x_56"><p>Root container that fills the available space and sets the background color.</p></li></ul></li><li class="list-item" id="2093486830#flew6x_15"><p id="2093486830#flew6x_57"><span class="control" id="2093486830#flew6x_59"><span class="inline-code" id="2093486830#flew6x_60">Column(modifier = Modifier.fillMaxSize().padding(24.dp), ...)</span></span></p><ul class="list" id="2093486830#flew6x_58" start="1"><li class="list-item" id="2093486830#flew6x_61"><p>Vertical layout container that holds the sign-in elements.</p></li><li class="list-item" id="2093486830#flew6x_62"><p>Centers its children both horizontally and vertically.</p></li></ul></li><li class="list-item" id="2093486830#flew6x_16"><p id="2093486830#flew6x_63"><span class="control" id="2093486830#flew6x_65"><span class="inline-code" id="2093486830#flew6x_66">Text(&quot;Sign In&quot;, style = MaterialTheme.typography.headlineLarge, ...)</span></span></p><ul class="list" id="2093486830#flew6x_64" start="1"><li class="list-item" id="2093486830#flew6x_67"><p>Title text for the sign-in screen.</p></li><li class="list-item" id="2093486830#flew6x_68"><p>Uses the primary color and bold font weight.</p></li></ul></li><li class="list-item" id="2093486830#flew6x_17"><p id="2093486830#flew6x_69"><span class="control" id="2093486830#flew6x_71"><span class="inline-code" id="2093486830#flew6x_72">Spacer(modifier = Modifier.height(32.dp))</span></span></p><ul class="list" id="2093486830#flew6x_70" start="1"><li class="list-item" id="2093486830#flew6x_73"><p>Adds vertical space between UI elements.</p></li></ul></li><li class="list-item" id="2093486830#flew6x_18"><p id="2093486830#flew6x_74"><span class="control" id="2093486830#flew6x_76"><span class="inline-code" id="2093486830#flew6x_77">Card(modifier = Modifier.fillMaxWidth().padding(horizontal = 16.dp), ...)</span></span></p><ul class="list" id="2093486830#flew6x_75" start="1"><li class="list-item" id="2093486830#flew6x_78"><p>Displays the input fields for email and password.</p></li><li class="list-item" id="2093486830#flew6x_79"><p>Parameters: </p><ul class="list" id="2093486830#flew6x_80" start="1"><li class="list-item" id="2093486830#flew6x_81"><p><span class="inline-code" id="2093486830#flew6x_84">modifier</span>: Sets the width and horizontal padding of the card.</p></li><li class="list-item" id="2093486830#flew6x_82"><p><span class="inline-code" id="2093486830#flew6x_85">elevation</span>: Sets the card elevation for shadow effect, using <span class="inline-code" id="2093486830#flew6x_86">CardDefaults.cardElevation</span>.</p></li><li class="list-item" id="2093486830#flew6x_83"><p><span class="inline-code" id="2093486830#flew6x_87">shape</span>: Sets the shape of the card with rounded corners.</p></li></ul></li></ul></li><li class="list-item" id="2093486830#flew6x_19"><p id="2093486830#flew6x_88"><span class="control" id="2093486830#flew6x_90"><span class="inline-code" id="2093486830#flew6x_91">Column(modifier = Modifier.fillMaxWidth().padding(24.dp), verticalArrangement = Arrangement.spacedBy(16.dp))</span></span></p><ul class="list" id="2093486830#flew6x_89" start="1"><li class="list-item" id="2093486830#flew6x_92"><p>Inner vertical layout within the card for input fields and buttons.</p></li><li class="list-item" id="2093486830#flew6x_93"><p>Arranges its children with spaced margins.</p></li></ul></li><li class="list-item" id="2093486830#flew6x_20"><p id="2093486830#flew6x_94"><span class="control" id="2093486830#flew6x_96"><span class="inline-code" id="2093486830#flew6x_97">AuthTextField(value = email, onValueChange = { email = it }, label = &quot;Email&quot;, icon = Icons.Default.Email)</span></span></p><ul class="list" id="2093486830#flew6x_95" start="1"><li class="list-item" id="2093486830#flew6x_98"><p>Input field for email, utilizing the custom <span class="inline-code" id="2093486830#flew6x_100">AuthTextField</span> composable.</p></li><li class="list-item" id="2093486830#flew6x_99"><p>Displays an email icon.</p></li></ul></li><li class="list-item" id="2093486830#flew6x_21"><p id="2093486830#flew6x_101"><span class="control" id="2093486830#flew6x_103"><span class="inline-code" id="2093486830#flew6x_104">AuthTextField(value = password, onValueChange = { password = it }, label = &quot;Password&quot;, icon = Icons.Default.Lock, isPassword = true)</span></span></p><ul class="list" id="2093486830#flew6x_102" start="1"><li class="list-item" id="2093486830#flew6x_105"><p>Input field for password, utilizing the custom <span class="inline-code" id="2093486830#flew6x_107">AuthTextField</span> composable.</p></li><li class="list-item" id="2093486830#flew6x_106"><p>Sets <span class="inline-code" id="2093486830#flew6x_108">isPassword</span> to true for input masking.</p></li></ul></li><li class="list-item" id="2093486830#flew6x_22"><p id="2093486830#flew6x_109"><span class="control" id="2093486830#flew6x_111"><span class="inline-code" id="2093486830#flew6x_112">Button(onClick = { isSigningIn = true }, enabled = !isSigningIn)</span></span></p><ul class="list" id="2093486830#flew6x_110" start="1"><li class="list-item" id="2093486830#flew6x_113"><p>Sign-in button.</p></li><li class="list-item" id="2093486830#flew6x_114"><p>Starts the sign-in process when clicked.</p></li><li class="list-item" id="2093486830#flew6x_115"><p>Disabled while <span class="inline-code" id="2093486830#flew6x_116">isSigningIn</span> is true to prevent multiple submissions.</p></li></ul></li></ul></section></section><section><h2 id="2093486830#related-files" data-toc="related-files#SignInScreen.md-related-files">Related Files</h2><ul class="list" id="2093486830#flew6x_117" start="1"><li class="list-item" id="2093486830#flew6x_118"><p><span class="control" id="2093486830#flew6x_121">AuthViewModel.kt (<a href="#-509870436">Authentication ViewModel (AuthViewModel.kt)</a>):</span> Manages user authentication and handles sign-in operations.</p></li><li class="list-item" id="2093486830#flew6x_119"><p><span class="control" id="2093486830#flew6x_123">NavGraph.kt (<a href="#2136066571">Navigation Graph (NavGraph.kt)</a>):</span> Defines the navigation routes, including the sign-in screen.</p></li><li class="list-item" id="2093486830#flew6x_120"><p><span class="control" id="2093486830#flew6x_125">UserProfileScreen.kt (<a href="#351066442">User Profile Screen (UserProfileScreen.kt)</a>):</span> Navigates to the user profile screen upon successful sign-in.</p></li></ul></section><section><h2 id="2093486830#usage" data-toc="usage#SignInScreen.md-usage">Usage</h2><p id="2093486830#flew6x_127">The <span class="inline-code" id="2093486830#flew6x_130">SignInScreen</span> is used for user authentication within the app. Here is how it can be integrated and used:</p><section><h3 id="2093486830#example-usage-in-navgraph" data-toc="example-usage-in-navgraph#SignInScreen.md-example-usage-in-navgraph">Example Usage in NavGraph</h3><p id="2093486830#flew6x_131">Include the <span class="inline-code" id="2093486830#flew6x_133">SignInScreen</span> in the navigation graph to enable navigation to the sign-in screen:</p><div class="detached code-block" id="2093486830#flew6x_132"><pre><code class="language-kotlin">composable(route = Screens.SignIn.route) {
    SignInScreen(navController = navController, authViewModel = authViewModel)
}</code></pre></div></section><section><h3 id="2093486830#handling-sign-in" data-toc="handling-sign-in#SignInScreen.md-handling-sign-in">Handling Sign-In</h3><p id="2093486830#flew6x_134">The sign-in button initiates the authentication process, managed by <span class="inline-code" id="2093486830#flew6x_136">AuthViewModel</span>:</p><div class="detached code-block" id="2093486830#flew6x_135"><pre><code class="language-kotlin">Button(
    onClick = {
        isSigningIn = true
        // Authenticate user
        viewModelScope.launch {
            val result = authViewModel.signInWithEmailAndPassword(email, password)
            isSigningIn = false
            if (result is AuthResult.Success) {
                // Navigate to user profile or home screen
                navController.navigate(Screens.UserProfile.route)
            } else if (result is AuthResult.Failure) {
                // Display error message
                showError = true
                errorMessage = result.message
            }
        }
    },
    enabled = !isSigningIn
) {
    Text(&quot;Sign In&quot;)
}</code></pre></div></section></section><section><h2 id="2093486830#additional-notes" data-toc="additional-notes#SignInScreen.md-additional-notes">Additional Notes</h2><ul class="list" id="2093486830#flew6x_137" start="1"><li class="list-item" id="2093486830#flew6x_138"><p>The screen provides a clean and user-friendly interface for user authentication.</p></li><li class="list-item" id="2093486830#flew6x_139"><p>It ensures responsive design and optimal user experience across different devices.</p></li><li class="list-item" id="2093486830#flew6x_140"><p>Proper state management and error handling enhance the reliability of the authentication process.</p></li></ul></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-987585564">Sign-Up Screen (SignUpScreen.kt)</h1><section><h2 id="-987585564#overview" data-toc="overview#SignUpScreen.md-overview">Overview</h2><p id="-987585564#z7modz7_8">This file defines the sign-up screen component for the application. The screen allows users to create a new account using their email and password. It utilizes Jetpack Compose to create a responsive and interactive UI. The authentication process is managed by <span class="inline-code" id="-987585564#z7modz7_9">AuthViewModel</span>.</p></section><section><h2 id="-987585564#code-explanation" data-toc="code-explanation#SignUpScreen.md-code-explanation">Code Explanation</h2><section><h3 id="-987585564#breakdown" data-toc="breakdown#SignUpScreen.md-breakdown">Breakdown</h3><ul class="list" id="-987585564#z7modz7_11" start="1"><li class="list-item" id="-987585564#z7modz7_12"><p id="-987585564#z7modz7_24"><span class="control" id="-987585564#z7modz7_26"><span class="inline-code" id="-987585564#z7modz7_27">@Composable fun SignUpScreen(navController: NavHostController, authViewModel: AuthViewModel)</span></span></p><ul class="list" id="-987585564#z7modz7_25" start="1"><li class="list-item" id="-987585564#z7modz7_28"><p>Defines the sign-up screen as a composable function.</p></li><li class="list-item" id="-987585564#z7modz7_29"><p>Parameters: </p><ul class="list" id="-987585564#z7modz7_30" start="1"><li class="list-item" id="-987585564#z7modz7_31"><p><span class="inline-code" id="-987585564#z7modz7_33">navController</span>: The navigation controller to manage app navigation.</p></li><li class="list-item" id="-987585564#z7modz7_32"><p><span class="inline-code" id="-987585564#z7modz7_34">authViewModel</span>: The view model that handles authentication.</p></li></ul></li></ul></li><li class="list-item" id="-987585564#z7modz7_13"><p id="-987585564#z7modz7_35"><span class="control" id="-987585564#z7modz7_37">State Variables</span></p><ul class="list" id="-987585564#z7modz7_36" start="1"><li class="list-item" id="-987585564#z7modz7_38"><p><span class="control" id="-987585564#z7modz7_44"><span class="inline-code" id="-987585564#z7modz7_45">var email by remember { mutableStateOf(&quot;&quot;) }</span></span>: Holds the email input value.</p></li><li class="list-item" id="-987585564#z7modz7_39"><p><span class="control" id="-987585564#z7modz7_46"><span class="inline-code" id="-987585564#z7modz7_47">var password by remember { mutableStateOf(&quot;&quot;) }</span></span>: Holds the password input value.</p></li><li class="list-item" id="-987585564#z7modz7_40"><p><span class="control" id="-987585564#z7modz7_48"><span class="inline-code" id="-987585564#z7modz7_49">var confirmPassword by remember { mutableStateOf(&quot;&quot;) }</span></span>: Holds the confirmation password input value.</p></li><li class="list-item" id="-987585564#z7modz7_41"><p><span class="control" id="-987585564#z7modz7_50"><span class="inline-code" id="-987585564#z7modz7_51">var showError by remember { mutableStateOf(false) }</span></span>: Flag to show or hide error messages.</p></li><li class="list-item" id="-987585564#z7modz7_42"><p><span class="control" id="-987585564#z7modz7_52"><span class="inline-code" id="-987585564#z7modz7_53">var errorMessage by remember { mutableStateOf(&quot;&quot;) }</span></span>: Stores the error message text.</p></li><li class="list-item" id="-987585564#z7modz7_43"><p><span class="control" id="-987585564#z7modz7_54"><span class="inline-code" id="-987585564#z7modz7_55">var isSigningUp by remember { mutableStateOf(false) }</span></span>: Flag to indicate if sign-up process is ongoing.</p></li></ul></li><li class="list-item" id="-987585564#z7modz7_14"><p id="-987585564#z7modz7_56"><span class="control" id="-987585564#z7modz7_58"><span class="inline-code" id="-987585564#z7modz7_59">Box(modifier = Modifier.fillMaxSize().background(MaterialTheme.colorScheme.background))</span></span></p><ul class="list" id="-987585564#z7modz7_57" start="1"><li class="list-item" id="-987585564#z7modz7_60"><p>Root container that fills the available space and sets the background color.</p></li></ul></li><li class="list-item" id="-987585564#z7modz7_15"><p id="-987585564#z7modz7_61"><span class="control" id="-987585564#z7modz7_63"><span class="inline-code" id="-987585564#z7modz7_64">Column(modifier = Modifier.fillMaxSize().padding(24.dp), ...)</span></span></p><ul class="list" id="-987585564#z7modz7_62" start="1"><li class="list-item" id="-987585564#z7modz7_65"><p>Vertical layout container that holds the sign-up elements.</p></li><li class="list-item" id="-987585564#z7modz7_66"><p>Centers its children both horizontally and vertically.</p></li></ul></li><li class="list-item" id="-987585564#z7modz7_16"><p id="-987585564#z7modz7_67"><span class="control" id="-987585564#z7modz7_69"><span class="inline-code" id="-987585564#z7modz7_70">Text(&quot;Create Account&quot;, style = MaterialTheme.typography.headlineLarge, ...)</span></span></p><ul class="list" id="-987585564#z7modz7_68" start="1"><li class="list-item" id="-987585564#z7modz7_71"><p>Title text for the sign-up screen.</p></li><li class="list-item" id="-987585564#z7modz7_72"><p>Uses the primary color and bold font weight.</p></li></ul></li><li class="list-item" id="-987585564#z7modz7_17"><p id="-987585564#z7modz7_73"><span class="control" id="-987585564#z7modz7_75"><span class="inline-code" id="-987585564#z7modz7_76">Spacer(modifier = Modifier.height(32.dp))</span></span></p><ul class="list" id="-987585564#z7modz7_74" start="1"><li class="list-item" id="-987585564#z7modz7_77"><p>Adds vertical space between UI elements.</p></li></ul></li><li class="list-item" id="-987585564#z7modz7_18"><p id="-987585564#z7modz7_78"><span class="control" id="-987585564#z7modz7_80"><span class="inline-code" id="-987585564#z7modz7_81">Card(modifier = Modifier.fillMaxWidth().padding(horizontal = 16.dp), ...)</span></span></p><ul class="list" id="-987585564#z7modz7_79" start="1"><li class="list-item" id="-987585564#z7modz7_82"><p>Displays the input fields for email, password, and confirmation password.</p></li><li class="list-item" id="-987585564#z7modz7_83"><p>Parameters: </p><ul class="list" id="-987585564#z7modz7_84" start="1"><li class="list-item" id="-987585564#z7modz7_85"><p><span class="inline-code" id="-987585564#z7modz7_88">modifier</span>: Sets the width and horizontal padding of the card.</p></li><li class="list-item" id="-987585564#z7modz7_86"><p><span class="inline-code" id="-987585564#z7modz7_89">elevation</span>: Sets the card elevation for shadow effect, using <span class="inline-code" id="-987585564#z7modz7_90">CardDefaults.cardElevation</span>.</p></li><li class="list-item" id="-987585564#z7modz7_87"><p><span class="inline-code" id="-987585564#z7modz7_91">shape</span>: Sets the shape of the card with rounded corners.</p></li></ul></li></ul></li><li class="list-item" id="-987585564#z7modz7_19"><p id="-987585564#z7modz7_92"><span class="control" id="-987585564#z7modz7_94"><span class="inline-code" id="-987585564#z7modz7_95">Column(modifier = Modifier.fillMaxWidth().padding(24.dp), verticalArrangement = Arrangement.spacedBy(16.dp))</span></span></p><ul class="list" id="-987585564#z7modz7_93" start="1"><li class="list-item" id="-987585564#z7modz7_96"><p>Inner vertical layout within the card for input fields and buttons.</p></li><li class="list-item" id="-987585564#z7modz7_97"><p>Arranges its children with spaced margins.</p></li></ul></li><li class="list-item" id="-987585564#z7modz7_20"><p id="-987585564#z7modz7_98"><span class="control" id="-987585564#z7modz7_100"><span class="inline-code" id="-987585564#z7modz7_101">AuthTextField(value = email, onValueChange = { email = it }, label = &quot;Email&quot;, icon = Icons.Default.Email)</span></span></p><ul class="list" id="-987585564#z7modz7_99" start="1"><li class="list-item" id="-987585564#z7modz7_102"><p>Input field for email, utilizing the custom <span class="inline-code" id="-987585564#z7modz7_104">AuthTextField</span> composable.</p></li><li class="list-item" id="-987585564#z7modz7_103"><p>Displays an email icon.</p></li></ul></li><li class="list-item" id="-987585564#z7modz7_21"><p id="-987585564#z7modz7_105"><span class="control" id="-987585564#z7modz7_107"><span class="inline-code" id="-987585564#z7modz7_108">AuthTextField(value = password, onValueChange = { password = it }, label = &quot;Password&quot;, icon = Icons.Default.Lock, isPassword = true)</span></span></p><ul class="list" id="-987585564#z7modz7_106" start="1"><li class="list-item" id="-987585564#z7modz7_109"><p>Input field for password, utilizing the custom <span class="inline-code" id="-987585564#z7modz7_111">AuthTextField</span> composable.</p></li><li class="list-item" id="-987585564#z7modz7_110"><p>Sets <span class="inline-code" id="-987585564#z7modz7_112">isPassword</span> to true for input masking.</p></li></ul></li><li class="list-item" id="-987585564#z7modz7_22"><p id="-987585564#z7modz7_113"><span class="control" id="-987585564#z7modz7_115"><span class="inline-code" id="-987585564#z7modz7_116">AuthTextField(value = confirmPassword, onValueChange = { confirmPassword = it }, label = &quot;Confirm Password&quot;, icon = Icons.Default.Lock, isPassword = true)</span></span></p><ul class="list" id="-987585564#z7modz7_114" start="1"><li class="list-item" id="-987585564#z7modz7_117"><p>Input field for confirming the password.</p></li><li class="list-item" id="-987585564#z7modz7_118"><p>Ensures the entered password matches the confirmation password.</p></li></ul></li><li class="list-item" id="-987585564#z7modz7_23"><p id="-987585564#z7modz7_119"><span class="control" id="-987585564#z7modz7_121"><span class="inline-code" id="-987585564#z7modz7_122">Button(onClick = { isSigningUp = true }, enabled = !isSigningUp)</span></span></p><ul class="list" id="-987585564#z7modz7_120" start="1"><li class="list-item" id="-987585564#z7modz7_123"><p>Sign-up button.</p></li><li class="list-item" id="-987585564#z7modz7_124"><p>Starts the sign-up process when clicked.</p></li><li class="list-item" id="-987585564#z7modz7_125"><p>Disabled while <span class="inline-code" id="-987585564#z7modz7_126">isSigningUp</span> is true to prevent multiple submissions.</p></li></ul></li></ul></section></section><section><h2 id="-987585564#related-files" data-toc="related-files#SignUpScreen.md-related-files">Related Files</h2><ul class="list" id="-987585564#z7modz7_127" start="1"><li class="list-item" id="-987585564#z7modz7_128"><p><span class="control" id="-987585564#z7modz7_131">AuthViewModel.kt (<a href="#-509870436">Authentication ViewModel (AuthViewModel.kt)</a>):</span> Manages user authentication and handles sign-up operations.</p></li><li class="list-item" id="-987585564#z7modz7_129"><p><span class="control" id="-987585564#z7modz7_133">NavGraph.kt (<a href="#2136066571">Navigation Graph (NavGraph.kt)</a>):</span> Defines the navigation routes, including the sign-up screen.</p></li><li class="list-item" id="-987585564#z7modz7_130"><p><span class="control" id="-987585564#z7modz7_135">SignInScreen.kt (<a href="#2093486830">Sign-In Screen (SignInScreen.kt)</a>):</span> Companion screen for user sign-in within the authentication flow.</p></li></ul></section><section><h2 id="-987585564#usage" data-toc="usage#SignUpScreen.md-usage">Usage</h2><p id="-987585564#z7modz7_137">The <span class="inline-code" id="-987585564#z7modz7_140">SignUpScreen</span> is used for user registration within the app. Here is how it can be integrated and used:</p><section><h3 id="-987585564#example-usage-in-navgraph" data-toc="example-usage-in-navgraph#SignUpScreen.md-example-usage-in-navgraph">Example Usage in NavGraph</h3><p id="-987585564#z7modz7_141">Include the <span class="inline-code" id="-987585564#z7modz7_143">SignUpScreen</span> in the navigation graph to enable navigation to the sign-up screen:</p><div class="detached code-block" id="-987585564#z7modz7_142"><pre><code class="language-kotlin">composable(route = Screens.SignUp.route) {
    SignUpScreen(navController = navController, authViewModel = authViewModel)
}</code></pre></div></section><section><h3 id="-987585564#handling-sign-up" data-toc="handling-sign-up#SignUpScreen.md-handling-sign-up">Handling Sign-Up</h3><p id="-987585564#z7modz7_144">The sign-up button initiates the registration process, managed by <span class="inline-code" id="-987585564#z7modz7_146">AuthViewModel</span>:</p><div class="detached code-block" id="-987585564#z7modz7_145"><pre><code class="language-kotlin">Button(
    onClick = {
        isSigningUp = true
        // Register user
        viewModelScope.launch {
            if (password != confirmPassword) {
                showError = true
                errorMessage = &quot;Passwords do not match&quot;
                isSigningUp = false
                return@launch
            }

            val result = authViewModel.createUserWithEmailAndPassword(email, password)
            isSigningUp = false
            if (result is AuthResult.Success) {
                // Navigate to sign-in or home screen
                navController.navigate(Screens.SignIn.route)
            } else if (result is AuthResult.Failure) {
                // Display error message
                showError = true
                errorMessage = result.message
            }
        }
    },
    enabled = !isSigningUp
) {
    Text(&quot;Create Account&quot;)
}</code></pre></div></section></section><section><h2 id="-987585564#additional-notes" data-toc="additional-notes#SignUpScreen.md-additional-notes">Additional Notes</h2><ul class="list" id="-987585564#z7modz7_147" start="1"><li class="list-item" id="-987585564#z7modz7_148"><p>The screen provides a clean and user-friendly interface for user registration.</p></li><li class="list-item" id="-987585564#z7modz7_149"><p>It ensures responsive design and optimal user experience across different devices.</p></li><li class="list-item" id="-987585564#z7modz7_150"><p>Proper state management and error handling enhance the reliability of the registration process.</p></li><li class="list-item" id="-987585564#z7modz7_151"><p>Ensures password and confirmation password match to prevent user errors.</p></li></ul></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="351066442">User Profile Screen (UserProfileScreen.kt)</h1><section><h2 id="351066442#overview" data-toc="overview#UserProfileScreen.md-overview">Overview</h2><p id="351066442#-w3e4fb_8">This file defines the user profile screen component for the application. The screen displays the user's profile information and provides options for editing the profile and logging out. It utilizes Jetpack Compose to create a responsive and interactive UI.</p></section><section><h2 id="351066442#code-explanation" data-toc="code-explanation#UserProfileScreen.md-code-explanation">Code Explanation</h2><section><h3 id="351066442#breakdown" data-toc="breakdown#UserProfileScreen.md-breakdown">Breakdown</h3><ul class="list" id="351066442#-w3e4fb_10" start="1"><li class="list-item" id="351066442#-w3e4fb_11"><p id="351066442#-w3e4fb_19"><span class="control" id="351066442#-w3e4fb_21"><span class="inline-code" id="351066442#-w3e4fb_22">@Composable fun UserProfileScreen(navController: NavHostController, authViewModel: AuthViewModel)</span></span></p><ul class="list" id="351066442#-w3e4fb_20" start="1"><li class="list-item" id="351066442#-w3e4fb_23"><p>Defines the user profile screen as a composable function.</p></li><li class="list-item" id="351066442#-w3e4fb_24"><p>Parameters: </p><ul class="list" id="351066442#-w3e4fb_25" start="1"><li class="list-item" id="351066442#-w3e4fb_26"><p><span class="inline-code" id="351066442#-w3e4fb_28">navController</span>: The navigation controller to manage app navigation.</p></li><li class="list-item" id="351066442#-w3e4fb_27"><p><span class="inline-code" id="351066442#-w3e4fb_29">authViewModel</span>: The view model that handles authentication and user data.</p></li></ul></li></ul></li><li class="list-item" id="351066442#-w3e4fb_12"><p id="351066442#-w3e4fb_30"><span class="control" id="351066442#-w3e4fb_32"><span class="inline-code" id="351066442#-w3e4fb_33">val userProfile = authViewModel.getCurrentUserProfile()</span></span></p><ul class="list" id="351066442#-w3e4fb_31" start="1"><li class="list-item" id="351066442#-w3e4fb_34"><p>Retrieves the current user's profile information from the <span class="inline-code" id="351066442#-w3e4fb_35">AuthViewModel</span>.</p></li></ul></li><li class="list-item" id="351066442#-w3e4fb_13"><p id="351066442#-w3e4fb_36"><span class="control" id="351066442#-w3e4fb_38"><span class="inline-code" id="351066442#-w3e4fb_39">Box(modifier = Modifier.fillMaxSize().background(MaterialTheme.colorScheme.background))</span></span></p><ul class="list" id="351066442#-w3e4fb_37" start="1"><li class="list-item" id="351066442#-w3e4fb_40"><p>Root container that fills the available space and sets the background color.</p></li></ul></li><li class="list-item" id="351066442#-w3e4fb_14"><p id="351066442#-w3e4fb_41"><span class="control" id="351066442#-w3e4fb_43"><span class="inline-code" id="351066442#-w3e4fb_44">Column(modifier = Modifier.fillMaxSize().padding(16.dp), ...)</span></span></p><ul class="list" id="351066442#-w3e4fb_42" start="1"><li class="list-item" id="351066442#-w3e4fb_45"><p>Vertical layout container that holds the profile elements.</p></li><li class="list-item" id="351066442#-w3e4fb_46"><p>Centers its children both horizontally and vertically.</p></li></ul></li><li class="list-item" id="351066442#-w3e4fb_15"><p id="351066442#-w3e4fb_47"><span class="control" id="351066442#-w3e4fb_49"><span class="inline-code" id="351066442#-w3e4fb_50">Card(...)</span></span></p><ul class="list" id="351066442#-w3e4fb_48" start="1"><li class="list-item" id="351066442#-w3e4fb_51"><p>Displays the user's profile information within a card.</p></li><li class="list-item" id="351066442#-w3e4fb_52"><p>Parameters: </p><ul class="list" id="351066442#-w3e4fb_53" start="1"><li class="list-item" id="351066442#-w3e4fb_54"><p><span class="inline-code" id="351066442#-w3e4fb_57">modifier</span>: Sets the width and padding of the card.</p></li><li class="list-item" id="351066442#-w3e4fb_55"><p><span class="inline-code" id="351066442#-w3e4fb_58">elevation</span>: Sets the card elevation for shadow effect, using <span class="inline-code" id="351066442#-w3e4fb_59">CardDefaults.cardElevation</span>.</p></li><li class="list-item" id="351066442#-w3e4fb_56"><p><span class="inline-code" id="351066442#-w3e4fb_60">shape</span>: Sets the shape of the card with rounded corners.</p></li></ul></li></ul></li><li class="list-item" id="351066442#-w3e4fb_16"><p id="351066442#-w3e4fb_61"><span class="control" id="351066442#-w3e4fb_63"><span class="inline-code" id="351066442#-w3e4fb_64">IconButton(onClick = { ... }, modifier = Modifier.align(Alignment.TopStart))</span></span></p><ul class="list" id="351066442#-w3e4fb_62" start="1"><li class="list-item" id="351066442#-w3e4fb_65"><p>Button for editing the profile, positioned at the top-left of the card.</p></li><li class="list-item" id="351066442#-w3e4fb_66"><p>Navigates to the <span class="inline-code" id="351066442#-w3e4fb_68">UpdateUserProfile</span> screen when clicked.</p></li><li class="list-item" id="351066442#-w3e4fb_67"><p>Uses <span class="inline-code" id="351066442#-w3e4fb_69">Icons.Default.Edit</span> for the edit icon.</p></li></ul></li><li class="list-item" id="351066442#-w3e4fb_17"><p id="351066442#-w3e4fb_70"><span class="control" id="351066442#-w3e4fb_72"><span class="inline-code" id="351066442#-w3e4fb_73">IconButton(onClick = { authViewModel.signOut() }, modifier = Modifier.align(Alignment.TopEnd))</span></span></p><ul class="list" id="351066442#-w3e4fb_71" start="1"><li class="list-item" id="351066442#-w3e4fb_74"><p>Button for logging out, positioned at the top-right of the card.</p></li><li class="list-item" id="351066442#-w3e4fb_75"><p>Signs the user out when clicked.</p></li><li class="list-item" id="351066442#-w3e4fb_76"><p>Uses <span class="inline-code" id="351066442#-w3e4fb_77">Icons.AutoMirrored.Filled.ExitToApp</span> for the logout icon.</p></li></ul></li><li class="list-item" id="351066442#-w3e4fb_18"><p id="351066442#-w3e4fb_78"><span class="control" id="351066442#-w3e4fb_80"><span class="inline-code" id="351066442#-w3e4fb_81">Column(modifier = Modifier.fillMaxWidth().padding(24.dp), ...)</span></span></p><ul class="list" id="351066442#-w3e4fb_79" start="1"><li class="list-item" id="351066442#-w3e4fb_82"><p>Inner vertical layout within the card for profile details.</p></li><li class="list-item" id="351066442#-w3e4fb_83"><p>Arranges its children with spaced margins.</p></li></ul></li></ul></section></section><section><h2 id="351066442#related-files" data-toc="related-files#UserProfileScreen.md-related-files">Related Files</h2><ul class="list" id="351066442#-w3e4fb_84" start="1"><li class="list-item" id="351066442#-w3e4fb_85"><p><span class="control" id="351066442#-w3e4fb_88">NavGraph.kt (<a href="#2136066571">Navigation Graph (NavGraph.kt)</a>):</span> Defines the navigation graph and routes, including <span class="inline-code" id="351066442#-w3e4fb_89">UpdateUserProfile</span>.</p></li><li class="list-item" id="351066442#-w3e4fb_86"><p><span class="control" id="351066442#-w3e4fb_91">AuthViewModel.kt (<a href="#-509870436">Authentication ViewModel (AuthViewModel.kt)</a>):</span> Manages user authentication and provides profile information.</p></li><li class="list-item" id="351066442#-w3e4fb_87"><p><span class="control" id="351066442#-w3e4fb_93">Screens.kt (<a href="#-703928985">Screens (Screens.kt)</a>):</span> Defines the screen routes and properties, such as <span class="inline-code" id="351066442#-w3e4fb_94">UpdateUserProfile</span>.</p></li></ul></section><section><h2 id="351066442#usage" data-toc="usage#UserProfileScreen.md-usage">Usage</h2><p id="351066442#-w3e4fb_96">The <span class="inline-code" id="351066442#-w3e4fb_99">UserProfileScreen</span> is used to display and manage the user's profile within the app. Here is how it integrates with other components:</p><section><h3 id="351066442#example-usage-in-navgraph" data-toc="example-usage-in-navgraph#UserProfileScreen.md-example-usage-in-navgraph">Example Usage in NavGraph</h3><p id="351066442#-w3e4fb_100">The <span class="inline-code" id="351066442#-w3e4fb_102">UserProfileScreen</span> is included in the navigation graph to facilitate navigation:</p><div class="detached code-block" id="351066442#-w3e4fb_101"><pre><code class="language-kotlin">composable(route = Screens.UserProfile.route) {
    UserProfileScreen(navController = navController, authViewModel = authViewModel)
}</code></pre></div></section><section><h3 id="351066442#handling-user-actions" data-toc="handling-user-actions#UserProfileScreen.md-handling-user-actions">Handling User Actions</h3><p id="351066442#-w3e4fb_103">Edit and logout actions are handled via icon buttons within the <span class="inline-code" id="351066442#-w3e4fb_105">Card</span>:</p><div class="detached code-block" id="351066442#-w3e4fb_104"><pre><code class="language-kotlin">// Edit button
IconButton(
    onClick = { navController.navigate(Screens.UpdateUserProfile.route) },
    modifier = Modifier.align(Alignment.TopStart)
) {
    Icon(
        imageVector = Icons.Default.Edit,
        contentDescription = &quot;Edit Profile&quot;,
        tint = MaterialTheme.colorScheme.primary
    )
}

// Logout button
IconButton(
    onClick = { authViewModel.signOut() },
    modifier = Modifier.align(Alignment.TopEnd)
) {
    Icon(
        imageVector = Icons.AutoMirrored.Filled.ExitToApp,
        contentDescription = &quot;Logout&quot;,
        tint = MaterialTheme.colorScheme.error
    )
}</code></pre></div></section></section><section><h2 id="351066442#additional-notes" data-toc="additional-notes#UserProfileScreen.md-additional-notes">Additional Notes</h2><ul class="list" id="351066442#-w3e4fb_106" start="1"><li class="list-item" id="351066442#-w3e4fb_107"><p>This screen provides a clean and user-friendly interface for managing user profiles.</p></li><li class="list-item" id="351066442#-w3e4fb_108"><p>The use of <span class="inline-code" id="351066442#-w3e4fb_111">Card</span> and <span class="inline-code" id="351066442#-w3e4fb_112">IconButton</span> components ensures a consistent and modern design.</p></li><li class="list-item" id="351066442#-w3e4fb_109"><p>Proper navigation and state management are facilitated through <span class="inline-code" id="351066442#-w3e4fb_113">navController</span> and <span class="inline-code" id="351066442#-w3e4fb_114">authViewModel</span>.</p></li><li class="list-item" id="351066442#-w3e4fb_110"><p>Profile details and actions like editing and logging out follow the common Material Design guidelines for better user experience.</p></li></ul></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="12256129">Update User Profile Screen (UpdateUserProfileScreen.kt)</h1><section><h2 id="12256129#overview" data-toc="overview#UpdateUserProfileScreen.md-overview">Overview</h2><p id="12256129#-nu1eda_8">This file defines the update user profile screen component for the application. The screen allows users to update their profile information such as their display name and profile picture URL. It utilizes Jetpack Compose to create a responsive and interactive UI. The update process is managed by <span class="inline-code" id="12256129#-nu1eda_9">AuthViewModel</span>.</p></section><section><h2 id="12256129#code-explanation" data-toc="code-explanation#UpdateUserProfileScreen.md-code-explanation">Code Explanation</h2><section><h3 id="12256129#breakdown" data-toc="breakdown#UpdateUserProfileScreen.md-breakdown">Breakdown</h3><ul class="list" id="12256129#-nu1eda_11" start="1"><li class="list-item" id="12256129#-nu1eda_12"><p id="12256129#-nu1eda_23"><span class="control" id="12256129#-nu1eda_25"><span class="inline-code" id="12256129#-nu1eda_26">@Composable fun UpdateUserProfileScreen(navController: NavHostController, authViewModel: AuthViewModel)</span></span></p><ul class="list" id="12256129#-nu1eda_24" start="1"><li class="list-item" id="12256129#-nu1eda_27"><p>Defines the update user profile screen as a composable function.</p></li><li class="list-item" id="12256129#-nu1eda_28"><p>Parameters: </p><ul class="list" id="12256129#-nu1eda_29" start="1"><li class="list-item" id="12256129#-nu1eda_30"><p><span class="inline-code" id="12256129#-nu1eda_32">navController</span>: The navigation controller to manage app navigation.</p></li><li class="list-item" id="12256129#-nu1eda_31"><p><span class="inline-code" id="12256129#-nu1eda_33">authViewModel</span>: The view model that handles authentication and profile updates.</p></li></ul></li></ul></li><li class="list-item" id="12256129#-nu1eda_13"><p id="12256129#-nu1eda_34"><span class="control" id="12256129#-nu1eda_36">State Variables</span></p><ul class="list" id="12256129#-nu1eda_35" start="1"><li class="list-item" id="12256129#-nu1eda_37"><p><span class="control" id="12256129#-nu1eda_43"><span class="inline-code" id="12256129#-nu1eda_44">val currentProfile = authViewModel.getCurrentUserProfile()</span></span>: Retrieves the current user's profile.</p></li><li class="list-item" id="12256129#-nu1eda_38"><p><span class="control" id="12256129#-nu1eda_45"><span class="inline-code" id="12256129#-nu1eda_46">var displayName by remember { mutableStateOf(currentProfile?.displayName ?: &quot;&quot;) }</span></span>: Holds the display name input value.</p></li><li class="list-item" id="12256129#-nu1eda_39"><p><span class="control" id="12256129#-nu1eda_47"><span class="inline-code" id="12256129#-nu1eda_48">var photoUrl by remember { mutableStateOf(currentProfile?.photoUrl ?: &quot;&quot;) }</span></span>: Holds the photo URL input value.</p></li><li class="list-item" id="12256129#-nu1eda_40"><p><span class="control" id="12256129#-nu1eda_49"><span class="inline-code" id="12256129#-nu1eda_50">var showError by remember { mutableStateOf(false) }</span></span>: Flag to show or hide error messages.</p></li><li class="list-item" id="12256129#-nu1eda_41"><p><span class="control" id="12256129#-nu1eda_51"><span class="inline-code" id="12256129#-nu1eda_52">var errorMessage by remember { mutableStateOf(&quot;&quot;) }</span></span>: Stores the error message text.</p></li><li class="list-item" id="12256129#-nu1eda_42"><p><span class="control" id="12256129#-nu1eda_53"><span class="inline-code" id="12256129#-nu1eda_54">var isUpdating by remember { mutableStateOf(false) }</span></span>: Flag to indicate if the update process is ongoing.</p></li></ul></li><li class="list-item" id="12256129#-nu1eda_14"><p id="12256129#-nu1eda_55"><span class="control" id="12256129#-nu1eda_57"><span class="inline-code" id="12256129#-nu1eda_58">Box(modifier = Modifier.fillMaxSize().background(MaterialTheme.colorScheme.background))</span></span></p><ul class="list" id="12256129#-nu1eda_56" start="1"><li class="list-item" id="12256129#-nu1eda_59"><p>Root container that fills the available space and sets the background color.</p></li></ul></li><li class="list-item" id="12256129#-nu1eda_15"><p id="12256129#-nu1eda_60"><span class="control" id="12256129#-nu1eda_62"><span class="inline-code" id="12256129#-nu1eda_63">IconButton(onClick = { navController.popBackStack() }, modifier = Modifier.padding(16.dp).align(Alignment.TopStart))</span></span></p><ul class="list" id="12256129#-nu1eda_61" start="1"><li class="list-item" id="12256129#-nu1eda_64"><p>Back button to navigate back to the previous screen.</p></li><li class="list-item" id="12256129#-nu1eda_65"><p>Displays an arrow icon.</p></li></ul></li><li class="list-item" id="12256129#-nu1eda_16"><p id="12256129#-nu1eda_66"><span class="control" id="12256129#-nu1eda_68"><span class="inline-code" id="12256129#-nu1eda_69">Column(modifier = Modifier.fillMaxSize().padding(top = 56.dp, start = 16.dp, end = 16.dp, bottom = 16.dp), ...)</span></span></p><ul class="list" id="12256129#-nu1eda_67" start="1"><li class="list-item" id="12256129#-nu1eda_70"><p>Vertical layout container that holds the update profile elements.</p></li><li class="list-item" id="12256129#-nu1eda_71"><p>Centers its children horizontally and arranges them with spaces.</p></li></ul></li><li class="list-item" id="12256129#-nu1eda_17"><p id="12256129#-nu1eda_72"><span class="control" id="12256129#-nu1eda_74"><span class="inline-code" id="12256129#-nu1eda_75">Text(&quot;Update Profile&quot;, style = MaterialTheme.typography.headlineMedium, ...)</span></span></p><ul class="list" id="12256129#-nu1eda_73" start="1"><li class="list-item" id="12256129#-nu1eda_76"><p>Title text for the update profile screen.</p></li><li class="list-item" id="12256129#-nu1eda_77"><p>Uses a medium headline style and bold font weight.</p></li></ul></li><li class="list-item" id="12256129#-nu1eda_18"><p id="12256129#-nu1eda_78"><span class="control" id="12256129#-nu1eda_80"><span class="inline-code" id="12256129#-nu1eda_81">Card(modifier = Modifier.fillMaxWidth().padding(vertical = 16.dp), ...)</span></span></p><ul class="list" id="12256129#-nu1eda_79" start="1"><li class="list-item" id="12256129#-nu1eda_82"><p>Displays the input fields for display name and photo URL.</p></li><li class="list-item" id="12256129#-nu1eda_83"><p>Parameters: </p><ul class="list" id="12256129#-nu1eda_84" start="1"><li class="list-item" id="12256129#-nu1eda_85"><p><span class="inline-code" id="12256129#-nu1eda_88">modifier</span>: Sets the width and vertical padding of the card.</p></li><li class="list-item" id="12256129#-nu1eda_86"><p><span class="inline-code" id="12256129#-nu1eda_89">elevation</span>: Sets the card elevation for shadow effect, using <span class="inline-code" id="12256129#-nu1eda_90">CardDefaults.cardElevation</span>.</p></li><li class="list-item" id="12256129#-nu1eda_87"><p><span class="inline-code" id="12256129#-nu1eda_91">shape</span>: Sets the shape of the card with rounded corners.</p></li></ul></li></ul></li><li class="list-item" id="12256129#-nu1eda_19"><p id="12256129#-nu1eda_92"><span class="control" id="12256129#-nu1eda_94"><span class="inline-code" id="12256129#-nu1eda_95">Column(modifier = Modifier.fillMaxWidth().padding(24.dp), verticalArrangement = Arrangement.spacedBy(16.dp))</span></span></p><ul class="list" id="12256129#-nu1eda_93" start="1"><li class="list-item" id="12256129#-nu1eda_96"><p>Inner vertical layout within the card for input fields and buttons.</p></li><li class="list-item" id="12256129#-nu1eda_97"><p>Arranges its children with spaced margins.</p></li></ul></li><li class="list-item" id="12256129#-nu1eda_20"><p id="12256129#-nu1eda_98"><span class="control" id="12256129#-nu1eda_100"><span class="inline-code" id="12256129#-nu1eda_101">ProfileTextField(value = displayName, onValueChange = { displayName = it }, label = &quot;Username&quot;, icon)</span></span></p><ul class="list" id="12256129#-nu1eda_99" start="1"><li class="list-item" id="12256129#-nu1eda_102"><p>Input field for the display name, utilizing a custom <span class="inline-code" id="12256129#-nu1eda_104">ProfileTextField</span> composable.</p></li><li class="list-item" id="12256129#-nu1eda_103"><p>Displays a person icon.</p></li></ul></li><li class="list-item" id="12256129#-nu1eda_21"><p id="12256129#-nu1eda_105"><span class="control" id="12256129#-nu1eda_107"><span class="inline-code" id="12256129#-nu1eda_108">ProfileTextField(value = photoUrl, onValueChange = { photoUrl = it }, label = &quot;Photo URL&quot;, icon)</span></span></p><ul class="list" id="12256129#-nu1eda_106" start="1"><li class="list-item" id="12256129#-nu1eda_109"><p>Input field for the photo URL, utilizing a custom <span class="inline-code" id="12256129#-nu1eda_111">ProfileTextField</span> composable.</p></li><li class="list-item" id="12256129#-nu1eda_110"><p>Displays a face icon.</p></li></ul></li><li class="list-item" id="12256129#-nu1eda_22"><p id="12256129#-nu1eda_112"><span class="control" id="12256129#-nu1eda_114"><span class="inline-code" id="12256129#-nu1eda_115">Button(onClick = { isUpdating = true }, enabled = !isUpdating)</span></span></p><ul class="list" id="12256129#-nu1eda_113" start="1"><li class="list-item" id="12256129#-nu1eda_116"><p>Update button.</p></li><li class="list-item" id="12256129#-nu1eda_117"><p>Starts the update process when clicked.</p></li><li class="list-item" id="12256129#-nu1eda_118"><p>Disabled while <span class="inline-code" id="12256129#-nu1eda_119">isUpdating</span> is true to prevent multiple submissions.</p></li></ul></li></ul></section></section><section><h2 id="12256129#related-files" data-toc="related-files#UpdateUserProfileScreen.md-related-files">Related Files</h2><ul class="list" id="12256129#-nu1eda_120" start="1"><li class="list-item" id="12256129#-nu1eda_121"><p><span class="control" id="12256129#-nu1eda_124">AuthViewModel.kt (<a href="#-509870436">Authentication ViewModel (AuthViewModel.kt)</a>):</span> Manages user authentication and handles profile updates.</p></li><li class="list-item" id="12256129#-nu1eda_122"><p><span class="control" id="12256129#-nu1eda_126">NavGraph.kt (<a href="#2136066571">Navigation Graph (NavGraph.kt)</a>):</span> Defines the navigation routes, including the update profile screen.</p></li><li class="list-item" id="12256129#-nu1eda_123"><p><span class="control" id="12256129#-nu1eda_128">UserProfileScreen.kt (<a href="#351066442">User Profile Screen (UserProfileScreen.kt)</a>):</span> Companion screen for viewing user profiles within the user management flow.</p></li></ul></section><section><h2 id="12256129#usage" data-toc="usage#UpdateUserProfileScreen.md-usage">Usage</h2><p id="12256129#-nu1eda_130">The <span class="inline-code" id="12256129#-nu1eda_133">UpdateUserProfileScreen</span> is used for updating user profile information within the app. Here is how it can be integrated and used:</p><section><h3 id="12256129#example-usage-in-navgraph" data-toc="example-usage-in-navgraph#UpdateUserProfileScreen.md-example-usage-in-navgraph">Example Usage in NavGraph</h3><p id="12256129#-nu1eda_134">Include the <span class="inline-code" id="12256129#-nu1eda_136">UpdateUserProfileScreen</span> in the navigation graph to enable navigation to the update profile screen:</p><div class="detached code-block" id="12256129#-nu1eda_135"><pre><code class="language-kotlin">composable(route = Screens.UpdateProfile.route) {
    UpdateUserProfileScreen(navController = navController, authViewModel = authViewModel)
}</code></pre></div></section><section><h3 id="12256129#handling-profile-update" data-toc="handling-profile-update#UpdateUserProfileScreen.md-handling-profile-update">Handling Profile Update</h3><p id="12256129#-nu1eda_137">The update button initiates the profile update process, managed by <span class="inline-code" id="12256129#-nu1eda_139">AuthViewModel</span>:</p><div class="detached code-block" id="12256129#-nu1eda_138"><pre><code class="language-kotlin">Button(
    onClick = {
        isUpdating = true
        // Update user profile
        viewModelScope.launch {
            val result = authViewModel.updateUserProfile(displayName, photoUrl)
            isUpdating = false
            if (result is AuthResult.Success) {
                // Navigate back to profile screen
                navController.navigate(Screens.UserProfile.route)
            } else if (result is AuthResult.Failure) {
                // Display error message
                showError = true
                errorMessage = result.message
            }
        }
    },
    enabled = !isUpdating
) {
    Text(&quot;Update Profile&quot;)
}</code></pre></div></section></section><section><h2 id="12256129#additional-notes" data-toc="additional-notes#UpdateUserProfileScreen.md-additional-notes">Additional Notes</h2><ul class="list" id="12256129#-nu1eda_140" start="1"><li class="list-item" id="12256129#-nu1eda_141"><p>The screen provides a clean and user-friendly interface for updating user profiles.</p></li><li class="list-item" id="12256129#-nu1eda_142"><p>It ensures responsive design and optimal user experience across different devices.</p></li><li class="list-item" id="12256129#-nu1eda_143"><p>Proper state management and error handling enhance the reliability of the update process.</p></li></ul></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="2622298">Typography (Type.kt)</h1><section><h2 id="2622298#overview" data-toc="overview#Type.md-overview">Overview</h2><p id="2622298#-wck6lv_8">This file defines the typography styles for the application. It uses Jetpack Compose's <span class="inline-code" id="2622298#-wck6lv_9">Typography</span> to set up the text styles, including font families, weights, sizes, line heights, and letter spacing. These styles can be applied globally to the app's text components.</p></section><section><h2 id="2622298#code-explanation" data-toc="code-explanation#Type.md-code-explanation">Code Explanation</h2><section><h3 id="2622298#breakdown" data-toc="breakdown#Type.md-breakdown">Breakdown</h3><ul class="list" id="2622298#-wck6lv_11" start="1"><li class="list-item" id="2622298#-wck6lv_12"><p id="2622298#-wck6lv_15"><span class="control" id="2622298#-wck6lv_17"><span class="inline-code" id="2622298#-wck6lv_18">val Typography = Typography(...)</span></span></p><ul class="list" id="2622298#-wck6lv_16" start="1"><li class="list-item" id="2622298#-wck6lv_19"><p>Instantiates a <span class="inline-code" id="2622298#-wck6lv_21">Typography</span> object that holds various text styles used throughout the app.</p></li><li class="list-item" id="2622298#-wck6lv_20"><p>Customizes the default set of Material typography styles.</p></li></ul></li><li class="list-item" id="2622298#-wck6lv_13"><p id="2622298#-wck6lv_22"><span class="control" id="2622298#-wck6lv_24"><span class="inline-code" id="2622298#-wck6lv_25">bodyLarge = TextStyle(...)</span></span></p><ul class="list" id="2622298#-wck6lv_23" start="1"><li class="list-item" id="2622298#-wck6lv_26"><p>Defines the text style for the body text of the application.</p></li><li class="list-item" id="2622298#-wck6lv_27"><p>Parameters: </p><ul class="list" id="2622298#-wck6lv_28" start="1"><li class="list-item" id="2622298#-wck6lv_29"><p><span class="inline-code" id="2622298#-wck6lv_34">fontFamily</span>: Sets the font family to <span class="inline-code" id="2622298#-wck6lv_35">FontFamily.Default</span>.</p></li><li class="list-item" id="2622298#-wck6lv_30"><p><span class="inline-code" id="2622298#-wck6lv_36">fontWeight</span>: Sets the font weight to <span class="inline-code" id="2622298#-wck6lv_37">FontWeight.Normal</span>.</p></li><li class="list-item" id="2622298#-wck6lv_31"><p><span class="inline-code" id="2622298#-wck6lv_38">fontSize</span>: Sets the font size to <span class="inline-code" id="2622298#-wck6lv_39">16.sp</span>.</p></li><li class="list-item" id="2622298#-wck6lv_32"><p><span class="inline-code" id="2622298#-wck6lv_40">lineHeight</span>: Sets the line height to <span class="inline-code" id="2622298#-wck6lv_41">24.sp</span>.</p></li><li class="list-item" id="2622298#-wck6lv_33"><p><span class="inline-code" id="2622298#-wck6lv_42">letterSpacing</span>: Sets the letter spacing to <span class="inline-code" id="2622298#-wck6lv_43">0.5.sp</span>.</p></li></ul></li></ul></li><li class="list-item" id="2622298#-wck6lv_14"><p id="2622298#-wck6lv_44"><span class="control" id="2622298#-wck6lv_46">Commented Styles (e.g., <span class="inline-code" id="2622298#-wck6lv_47">titleLarge</span>, <span class="inline-code" id="2622298#-wck6lv_48">labelSmall</span>)</span></p><ul class="list" id="2622298#-wck6lv_45" start="1"><li class="list-item" id="2622298#-wck6lv_49"><p>Shows examples of other default text styles that can be overridden.</p></li><li class="list-item" id="2622298#-wck6lv_50"><p>Each style can be customized similarly to <span class="inline-code" id="2622298#-wck6lv_52">bodyLarge</span>.</p></li><li class="list-item" id="2622298#-wck6lv_51"><p>Useful for defining consistent typography settings across different text components in the app.</p></li></ul></li></ul></section></section><section><h2 id="2622298#related-files" data-toc="related-files#Type.md-related-files">Related Files</h2><ul class="list" id="2622298#-wck6lv_53" start="1"><li class="list-item" id="2622298#-wck6lv_54"><p><span class="control" id="2622298#-wck6lv_57">Theme.kt (<a href="#80774569">Theme (Theme.kt)</a>):</span> Applies the typography settings alongside the color schemes.</p></li><li class="list-item" id="2622298#-wck6lv_55"><p><span class="control" id="2622298#-wck6lv_59">ColorPalette.kt (<a href="#2023991696">Color Palette</a>):</span> Defines the color palette used in the theme.</p></li><li class="list-item" id="2622298#-wck6lv_56"><p><span class="control" id="2622298#-wck6lv_61">MainActivity.kt (<a href="#1136912392">Main Activity (MainActivity.kt)</a>):</span> Entry point of the app that applies the <span class="inline-code" id="2622298#-wck6lv_62">VociAppTheme</span>.</p></li></ul></section><section><h2 id="2622298#usage" data-toc="usage#Type.md-usage">Usage</h2><p id="2622298#-wck6lv_64">The <span class="inline-code" id="2622298#-wck6lv_67">Typography</span> instance defined in <span class="inline-code" id="2622298#-wck6lv_68">Type.kt</span> is used to maintain consistent text styles across the app. Here's how it is typically integrated:</p><section><h3 id="2622298#applying-typography-in-theme" data-toc="applying-typography-in-theme#Type.md-applying-typography-in-theme">Applying Typography in Theme</h3><p id="2622298#-wck6lv_69">Integrate the typography settings in your theme setup within <span class="inline-code" id="2622298#-wck6lv_71">Theme.kt</span>:</p><div class="detached code-block" id="2622298#-wck6lv_70"><pre><code class="language-kotlin">MaterialTheme(
    colorScheme = colorScheme,
    typography = Typography, // Apply the typography settings
    content = content
)</code></pre></div></section><section><h3 id="2622298#customizing-text-styles" data-toc="customizing-text-styles#Type.md-customizing-text-styles">Customizing Text Styles</h3><p id="2622298#-wck6lv_72">You can define additional or override existing text styles by uncommenting and customizing the provided examples:</p><div class="detached code-block" id="2622298#-wck6lv_73"><pre><code class="language-kotlin">val Typography = Typography(
    bodyLarge = TextStyle(
        fontFamily = FontFamily.Default,
        fontWeight = FontWeight.Normal,
        fontSize = 16.sp,
        lineHeight = 24.sp,
        letterSpacing = 0.5.sp
    ),
    // Uncomment and customize as needed
    titleLarge = TextStyle(
        fontFamily = FontFamily.Default,
        fontWeight = FontWeight.Normal,
        fontSize = 22.sp,
        lineHeight = 28.sp,
        letterSpacing = 0.sp
    ),
    // Add more text styles here
)</code></pre></div></section></section><section><h2 id="2622298#additional-notes" data-toc="additional-notes#Type.md-additional-notes">Additional Notes</h2><ul class="list" id="2622298#-wck6lv_74" start="1"><li class="list-item" id="2622298#-wck6lv_75"><p>Consistent typography enhances the readability and aesthetics of the app.</p></li><li class="list-item" id="2622298#-wck6lv_76"><p>Defining typography styles in a central file enables easy updates and ensures uniformity across different screens.</p></li><li class="list-item" id="2622298#-wck6lv_77"><p>Customize various text components, such as titles, body text, and labels, to fit the app's design requirements.</p></li></ul></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="80774569">Theme (Theme.kt)</h1><section><h2 id="80774569#overview" data-toc="overview#Theme.md-overview">Overview</h2><p id="80774569#l5qt7e_8">This file defines the theme for the application, including color schemes for both dark and light modes. It utilizes Jetpack Compose's <span class="inline-code" id="80774569#l5qt7e_9">MaterialTheme</span> to apply these themes globally throughout the app. It also supports dynamic theming based on the system's dark mode settings and the Android version.</p></section><section><h2 id="80774569#code-explanation" data-toc="code-explanation#Theme.md-code-explanation">Code Explanation</h2><section><h3 id="80774569#breakdown" data-toc="breakdown#Theme.md-breakdown">Breakdown</h3><ul class="list" id="80774569#l5qt7e_11" start="1"><li class="list-item" id="80774569#l5qt7e_12"><p id="80774569#l5qt7e_17"><span class="control" id="80774569#l5qt7e_19"><span class="inline-code" id="80774569#l5qt7e_20">private val DarkColorScheme = darkColorScheme(...)</span></span></p><ul class="list" id="80774569#l5qt7e_18" start="1"><li class="list-item" id="80774569#l5qt7e_21"><p>Defines the color scheme for dark mode.</p></li><li class="list-item" id="80774569#l5qt7e_22"><p>Uses <span class="inline-code" id="80774569#l5qt7e_23">darkColorScheme</span> to specify colors for various UI elements like primary, secondary, background, and error.</p></li></ul></li><li class="list-item" id="80774569#l5qt7e_13"><p id="80774569#l5qt7e_24"><span class="control" id="80774569#l5qt7e_26"><span class="inline-code" id="80774569#l5qt7e_27">private val LightColorScheme = lightColorScheme(...)</span></span></p><ul class="list" id="80774569#l5qt7e_25" start="1"><li class="list-item" id="80774569#l5qt7e_28"><p>Defines the color scheme for light mode.</p></li><li class="list-item" id="80774569#l5qt7e_29"><p>Uses <span class="inline-code" id="80774569#l5qt7e_30">lightColorScheme</span> to specify colors for various UI elements similar to the dark mode setup.</p></li></ul></li><li class="list-item" id="80774569#l5qt7e_14"><p id="80774569#l5qt7e_31"><span class="control" id="80774569#l5qt7e_33"><span class="inline-code" id="80774569#l5qt7e_34">@Composable fun VociAppTheme(...) { ... }</span></span></p><ul class="list" id="80774569#l5qt7e_32" start="1"><li class="list-item" id="80774569#l5qt7e_35"><p>This composable function sets up the theme using <span class="inline-code" id="80774569#l5qt7e_37">MaterialTheme</span>.</p></li><li class="list-item" id="80774569#l5qt7e_36"><p>Parameters: </p><ul class="list" id="80774569#l5qt7e_38" start="1"><li class="list-item" id="80774569#l5qt7e_39"><p><span class="inline-code" id="80774569#l5qt7e_42">darkTheme</span>: Boolean flag to indicate whether dark theme is enabled. Defaults to system setting with <span class="inline-code" id="80774569#l5qt7e_43">isSystemInDarkTheme()</span>.</p></li><li class="list-item" id="80774569#l5qt7e_40"><p><span class="inline-code" id="80774569#l5qt7e_44">dynamicColor</span>: Boolean flag to indicate whether dynamic theming is enabled. Defaults to <span class="inline-code" id="80774569#l5qt7e_45">false</span>.</p></li><li class="list-item" id="80774569#l5qt7e_41"><p><span class="inline-code" id="80774569#l5qt7e_46">content</span>: Lambda that contains the UI content to which the theme will be applied.</p></li></ul></li></ul></li><li class="list-item" id="80774569#l5qt7e_15"><p id="80774569#l5qt7e_47"><span class="control" id="80774569#l5qt7e_49"><span class="inline-code" id="80774569#l5qt7e_50">val colorScheme = when { ... }</span></span></p><ul class="list" id="80774569#l5qt7e_48" start="1"><li class="list-item" id="80774569#l5qt7e_51"><p>Determines the appropriate color scheme based on the <span class="inline-code" id="80774569#l5qt7e_52">darkTheme</span> and <span class="inline-code" id="80774569#l5qt7e_53">dynamicColor</span> flags. </p><ul class="list" id="80774569#l5qt7e_54" start="1"><li class="list-item" id="80774569#l5qt7e_55"><p>Uses <span class="inline-code" id="80774569#l5qt7e_57">dynamicDarkColorScheme</span> or <span class="inline-code" id="80774569#l5qt7e_58">dynamicLightColorScheme</span> for dynamic theming if supported (Android 12+).</p></li><li class="list-item" id="80774569#l5qt7e_56"><p>Falls back to <span class="inline-code" id="80774569#l5qt7e_59">DarkColorScheme</span> or <span class="inline-code" id="80774569#l5qt7e_60">LightColorScheme</span> based on the <span class="inline-code" id="80774569#l5qt7e_61">darkTheme</span> flag.</p></li></ul></li></ul></li><li class="list-item" id="80774569#l5qt7e_16"><p id="80774569#l5qt7e_62"><span class="control" id="80774569#l5qt7e_64"><span class="inline-code" id="80774569#l5qt7e_65">MaterialTheme(...)</span></span></p><ul class="list" id="80774569#l5qt7e_63" start="1"><li class="list-item" id="80774569#l5qt7e_66"><p>Applies the selected color scheme to the app's UI.</p></li><li class="list-item" id="80774569#l5qt7e_67"><p>Parameters: </p><ul class="list" id="80774569#l5qt7e_68" start="1"><li class="list-item" id="80774569#l5qt7e_69"><p><span class="inline-code" id="80774569#l5qt7e_72">colorScheme</span>: The chosen color scheme (either dark, light, or dynamic).</p></li><li class="list-item" id="80774569#l5qt7e_70"><p><span class="inline-code" id="80774569#l5qt7e_73">typography</span>: Typography settings applied to the text throughout the app.</p></li><li class="list-item" id="80774569#l5qt7e_71"><p><span class="inline-code" id="80774569#l5qt7e_74">content</span>: Lambda containing the composable content to which the theme is applied.</p></li></ul></li></ul></li></ul></section></section><section><h2 id="80774569#related-files" data-toc="related-files#Theme.md-related-files">Related Files</h2><ul class="list" id="80774569#l5qt7e_75" start="1"><li class="list-item" id="80774569#l5qt7e_76"><p><span class="control" id="80774569#l5qt7e_79">ColorPalette.kt (<a href="#2023991696">Color Palette</a>):</span> Defines the color palette used in the theme.</p></li><li class="list-item" id="80774569#l5qt7e_77"><p><span class="control" id="80774569#l5qt7e_81">Type.kt (<a href="#2622298">Typography (Type.kt)</a>):</span> Defines the typography settings used in the theme.</p></li><li class="list-item" id="80774569#l5qt7e_78"><p><span class="control" id="80774569#l5qt7e_83">MainActivity.kt (<a href="#1136912392">Main Activity (MainActivity.kt)</a>):</span> Entry point of the app that applies the <span class="inline-code" id="80774569#l5qt7e_84">VociAppTheme</span>.</p></li></ul></section><section><h2 id="80774569#usage" data-toc="usage#Theme.md-usage">Usage</h2><p id="80774569#l5qt7e_86">The <span class="inline-code" id="80774569#l5qt7e_89">VociAppTheme</span> function is used to wrap the entire content of the app to apply the theme consistently. Here's how it is typically used:</p><section><h3 id="80774569#applying-the-theme" data-toc="applying-the-theme#Theme.md-applying-the-theme">Applying the Theme</h3><p id="80774569#l5qt7e_90">Wrap your composable content with the <span class="inline-code" id="80774569#l5qt7e_92">VociAppTheme</span> to apply the theme:</p><div class="detached code-block" id="80774569#l5qt7e_91"><pre><code class="language-kotlin">setContent {
    VociAppTheme {
        // Composable content that uses the theme...
    }
}</code></pre></div></section><section><h3 id="80774569#dynamic-and-dark-mode-theming" data-toc="dynamic-and-dark-mode-theming#Theme.md-dynamic-and-dark-mode-theming">Dynamic and Dark Mode Theming</h3><p id="80774569#l5qt7e_93">The theme can automatically adjust based on the system's dark mode setting and support dynamic colors on Android 12+:</p><div class="detached code-block" id="80774569#l5qt7e_94"><pre><code class="language-kotlin">@Composable
fun MyApp() {
    VociAppTheme(
        darkTheme = isSystemInDarkTheme(), // Automatically adjust to system's dark mode
        dynamicColor = true // Enable dynamic colors on supported devices
    ) {
        // UI content with applied dynamic theme
    }
}</code></pre></div></section></section><section><h2 id="80774569#additional-notes" data-toc="additional-notes#Theme.md-additional-notes">Additional Notes</h2><ul class="list" id="80774569#l5qt7e_95" start="1"><li class="list-item" id="80774569#l5qt7e_96"><p>The dark and light color schemes are meticulously defined to ensure a cohesive and accessible UI.</p></li><li class="list-item" id="80774569#l5qt7e_97"><p>Dynamic theming allows the app to better integrate with the system themes available on newer Android devices.</p></li><li class="list-item" id="80774569#l5qt7e_98"><p>Usage of <span class="inline-code" id="80774569#l5qt7e_99">MaterialTheme</span> ensures that the theme settings are propagated throughout the app, maintaining consistency.</p></li></ul></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="2023991696">Color Palette</h1><p id="2023991696#-luszjd_3">This file defines the color palette used throughout the app. It provides color values for both light and dark themes, ensuring consistency and accessibility.</p><section><h2 id="2023991696#color-definitions" data-toc="color-definitions#Colors.md-color-definitions">Color Definitions</h2><div class="table-wrapper detached"><table id="2023991696#-luszjd_6"><tr class="header-row" id="2023991696#-luszjd_7"><th id="2023991696#-luszjd_31"><p>Color Name</p></th><th id="2023991696#-luszjd_32"><p>Light Theme Value</p></th><th id="2023991696#-luszjd_33"><p>Dark Theme Value</p></th><th id="2023991696#-luszjd_34"><p>Description</p></th></tr><tr class="" id="2023991696#-luszjd_8"><td id="2023991696#-luszjd_35"><p>Primary</p></td><td id="2023991696#-luszjd_36"><p><span class="inline-code" id="2023991696#-luszjd_39">0xFFFF9800</span></p></td><td id="2023991696#-luszjd_37"><p><span class="inline-code" id="2023991696#-luszjd_40">0xFFFFA726</span></p></td><td id="2023991696#-luszjd_38"><p>The main color of the app, used for primary elements.</p></td></tr><tr class="" id="2023991696#-luszjd_9"><td id="2023991696#-luszjd_41"><p>On Primary</p></td><td id="2023991696#-luszjd_42"><p><span class="inline-code" id="2023991696#-luszjd_45">0xFF000000</span></p></td><td id="2023991696#-luszjd_43"><p><span class="inline-code" id="2023991696#-luszjd_46">0xFF000000</span></p></td><td id="2023991696#-luszjd_44"><p>Color used for content on top of the primary color.</p></td></tr><tr class="" id="2023991696#-luszjd_10"><td id="2023991696#-luszjd_47"><p>Primary Container</p></td><td id="2023991696#-luszjd_48"><p><span class="inline-code" id="2023991696#-luszjd_51">0xFFFFE0B2</span></p></td><td id="2023991696#-luszjd_49"><p><span class="inline-code" id="2023991696#-luszjd_52">0xFFE65100</span></p></td><td id="2023991696#-luszjd_50"><p>Color used for containers with primary content.</p></td></tr><tr class="" id="2023991696#-luszjd_11"><td id="2023991696#-luszjd_53"><p>On Primary Container</p></td><td id="2023991696#-luszjd_54"><p><span class="inline-code" id="2023991696#-luszjd_57">0xFF613D00</span></p></td><td id="2023991696#-luszjd_55"><p><span class="inline-code" id="2023991696#-luszjd_58">0xFFFFE0B2</span></p></td><td id="2023991696#-luszjd_56"><p>Color used for content on top of primary containers.</p></td></tr><tr class="" id="2023991696#-luszjd_12"><td id="2023991696#-luszjd_59"><p>Secondary</p></td><td id="2023991696#-luszjd_60"><p><span class="inline-code" id="2023991696#-luszjd_63">0xFF2196F3</span></p></td><td id="2023991696#-luszjd_61"><p><span class="inline-code" id="2023991696#-luszjd_64">0xFF64B5F6</span></p></td><td id="2023991696#-luszjd_62"><p>A secondary color used for accents and highlights.</p></td></tr><tr class="" id="2023991696#-luszjd_13"><td id="2023991696#-luszjd_65"><p>On Secondary</p></td><td id="2023991696#-luszjd_66"><p><span class="inline-code" id="2023991696#-luszjd_69">0xFFFFFFFF</span></p></td><td id="2023991696#-luszjd_67"><p><span class="inline-code" id="2023991696#-luszjd_70">0xFF000000</span></p></td><td id="2023991696#-luszjd_68"><p>Color used for content on top of the secondary color.</p></td></tr><tr class="" id="2023991696#-luszjd_14"><td id="2023991696#-luszjd_71"><p>Secondary Container</p></td><td id="2023991696#-luszjd_72"><p><span class="inline-code" id="2023991696#-luszjd_75">0xFFBBDEFB</span></p></td><td id="2023991696#-luszjd_73"><p><span class="inline-code" id="2023991696#-luszjd_76">0xFF1976D2</span></p></td><td id="2023991696#-luszjd_74"><p>Color used for containers with secondary content.</p></td></tr><tr class="" id="2023991696#-luszjd_15"><td id="2023991696#-luszjd_77"><p>On Secondary Container</p></td><td id="2023991696#-luszjd_78"><p><span class="inline-code" id="2023991696#-luszjd_81">0xFF0D3C61</span></p></td><td id="2023991696#-luszjd_79"><p><span class="inline-code" id="2023991696#-luszjd_82">0xFFBBDEFB</span></p></td><td id="2023991696#-luszjd_80"><p>Color used for content on top of secondary containers.</p></td></tr><tr class="" id="2023991696#-luszjd_16"><td id="2023991696#-luszjd_83"><p>Tertiary</p></td><td id="2023991696#-luszjd_84"><p><span class="inline-code" id="2023991696#-luszjd_87">0xFF4CAF50</span></p></td><td id="2023991696#-luszjd_85"><p><span class="inline-code" id="2023991696#-luszjd_88">0xFF81C784</span></p></td><td id="2023991696#-luszjd_86"><p>A tertiary color used for additional accents.</p></td></tr><tr class="" id="2023991696#-luszjd_17"><td id="2023991696#-luszjd_89"><p>On Tertiary</p></td><td id="2023991696#-luszjd_90"><p><span class="inline-code" id="2023991696#-luszjd_93">0xFFFFFFFF</span></p></td><td id="2023991696#-luszjd_91"><p><span class="inline-code" id="2023991696#-luszjd_94">0xFF000000</span></p></td><td id="2023991696#-luszjd_92"><p>Color used for content on top of the tertiary color.</p></td></tr><tr class="" id="2023991696#-luszjd_18"><td id="2023991696#-luszjd_95"><p>Tertiary Container</p></td><td id="2023991696#-luszjd_96"><p><span class="inline-code" id="2023991696#-luszjd_99">0xFFC8E6C9</span></p></td><td id="2023991696#-luszjd_97"><p><span class="inline-code" id="2023991696#-luszjd_100">0xFF2E7D32</span></p></td><td id="2023991696#-luszjd_98"><p>Color used for containers with tertiary content.</p></td></tr><tr class="" id="2023991696#-luszjd_19"><td id="2023991696#-luszjd_101"><p>On Tertiary Container</p></td><td id="2023991696#-luszjd_102"><p><span class="inline-code" id="2023991696#-luszjd_105">0xFF1B5E20</span></p></td><td id="2023991696#-luszjd_103"><p><span class="inline-code" id="2023991696#-luszjd_106">0xFFC8E6C9</span></p></td><td id="2023991696#-luszjd_104"><p>Color used for content on top of tertiary containers.</p></td></tr><tr class="" id="2023991696#-luszjd_20"><td id="2023991696#-luszjd_107"><p>Error</p></td><td id="2023991696#-luszjd_108"><p><span class="inline-code" id="2023991696#-luszjd_111">0xFFD32F2F</span></p></td><td id="2023991696#-luszjd_109"><p><span class="inline-code" id="2023991696#-luszjd_112">0xFFEF5350</span></p></td><td id="2023991696#-luszjd_110"><p>Color used for error states.</p></td></tr><tr class="" id="2023991696#-luszjd_21"><td id="2023991696#-luszjd_113"><p>On Error</p></td><td id="2023991696#-luszjd_114"><p><span class="inline-code" id="2023991696#-luszjd_117">0xFFFFFFFF</span></p></td><td id="2023991696#-luszjd_115"><p><span class="inline-code" id="2023991696#-luszjd_118">0xFF000000</span></p></td><td id="2023991696#-luszjd_116"><p>Color used for content on top of error backgrounds.</p></td></tr><tr class="" id="2023991696#-luszjd_22"><td id="2023991696#-luszjd_119"><p>Error Container</p></td><td id="2023991696#-luszjd_120"><p><span class="inline-code" id="2023991696#-luszjd_123">0xFFFFCDD2</span></p></td><td id="2023991696#-luszjd_121"><p><span class="inline-code" id="2023991696#-luszjd_124">0xFFB71C1C</span></p></td><td id="2023991696#-luszjd_122"><p>Color used for containers with error content.</p></td></tr><tr class="" id="2023991696#-luszjd_23"><td id="2023991696#-luszjd_125"><p>On Error Container</p></td><td id="2023991696#-luszjd_126"><p><span class="inline-code" id="2023991696#-luszjd_129">0xFF641414</span></p></td><td id="2023991696#-luszjd_127"><p><span class="inline-code" id="2023991696#-luszjd_130">0xFFFFCDD2</span></p></td><td id="2023991696#-luszjd_128"><p>Color used for content on top of error containers.</p></td></tr><tr class="" id="2023991696#-luszjd_24"><td id="2023991696#-luszjd_131"><p>Background</p></td><td id="2023991696#-luszjd_132"><p><span class="inline-code" id="2023991696#-luszjd_135">0xFFFAFAFA</span></p></td><td id="2023991696#-luszjd_133"><p><span class="inline-code" id="2023991696#-luszjd_136">0xFF212121</span></p></td><td id="2023991696#-luszjd_134"><p>The background color of the app.</p></td></tr><tr class="" id="2023991696#-luszjd_25"><td id="2023991696#-luszjd_137"><p>On Background</p></td><td id="2023991696#-luszjd_138"><p><span class="inline-code" id="2023991696#-luszjd_141">0xFF212121</span></p></td><td id="2023991696#-luszjd_139"><p><span class="inline-code" id="2023991696#-luszjd_142">0xFFFFFFFF</span></p></td><td id="2023991696#-luszjd_140"><p>Color used for content on top of the background.</p></td></tr><tr class="" id="2023991696#-luszjd_26"><td id="2023991696#-luszjd_143"><p>Surface</p></td><td id="2023991696#-luszjd_144"><p><span class="inline-code" id="2023991696#-luszjd_147">0xFFFFFFFF</span></p></td><td id="2023991696#-luszjd_145"><p><span class="inline-code" id="2023991696#-luszjd_148">0xFF424242</span></p></td><td id="2023991696#-luszjd_146"><p>The surface color of UI elements.</p></td></tr><tr class="" id="2023991696#-luszjd_27"><td id="2023991696#-luszjd_149"><p>On Surface</p></td><td id="2023991696#-luszjd_150"><p><span class="inline-code" id="2023991696#-luszjd_153">0xFF212121</span></p></td><td id="2023991696#-luszjd_151"><p><span class="inline-code" id="2023991696#-luszjd_154">0xFFFFFFFF</span></p></td><td id="2023991696#-luszjd_152"><p>Color used for content on top of surfaces.</p></td></tr><tr class="" id="2023991696#-luszjd_28"><td id="2023991696#-luszjd_155"><p>Surface Variant</p></td><td id="2023991696#-luszjd_156"><p><span class="inline-code" id="2023991696#-luszjd_159">0xFFEEEEEE</span></p></td><td id="2023991696#-luszjd_157"><p><span class="inline-code" id="2023991696#-luszjd_160">0xFF616161</span></p></td><td id="2023991696#-luszjd_158"><p>A variant of the surface color.</p></td></tr><tr class="" id="2023991696#-luszjd_29"><td id="2023991696#-luszjd_161"><p>On Surface Variant</p></td><td id="2023991696#-luszjd_162"><p><span class="inline-code" id="2023991696#-luszjd_165">0xFF757575</span></p></td><td id="2023991696#-luszjd_163"><p><span class="inline-code" id="2023991696#-luszjd_166">0xFFEEEEEE</span></p></td><td id="2023991696#-luszjd_164"><p>Color used for content on top of surface variants.</p></td></tr><tr class="" id="2023991696#-luszjd_30"><td id="2023991696#-luszjd_167"><p>Outline</p></td><td id="2023991696#-luszjd_168"><p><span class="inline-code" id="2023991696#-luszjd_171">0xFFBDBDBD</span></p></td><td id="2023991696#-luszjd_169"><p><span class="inline-code" id="2023991696#-luszjd_172">0xFF757575</span></p></td><td id="2023991696#-luszjd_170"><p>Color used for outlines and borders.</p></td></tr></table></div></section><section><h2 id="2023991696#usage" data-toc="usage#Colors.md-usage">Usage</h2><p id="2023991696#-luszjd_173">These color values can be accessed through the <span class="inline-code" id="2023991696#-luszjd_175">ColorPalette</span> object in the <span class="inline-code" id="2023991696#-luszjd_176">Colors.kt</span> file:</p><div class="detached code-block" id="2023991696#-luszjd_174"><pre><code class="language-kotlin">val primaryColor = ColorPalette.PrimaryLight // For light theme
val secondaryColor = ColorPalette.SecondaryDark // For dark theme</code></pre></div></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-509870436">Authentication ViewModel (AuthViewModel.kt)</h1><section><h2 id="-509870436#overview" data-toc="overview#AuthViewModel.md-overview">Overview</h2><p id="-509870436#n0xaiv_8">This file defines the <span class="inline-code" id="-509870436#n0xaiv_9">AuthViewModel</span> class, which handles user authentication and profile management. It interacts with Firebase Authentication to perform actions such as sign-in, sign-out, user creation, and profile updates. The class utilizes Kotlin Coroutines and StateFlow to manage and observe the authentication state.</p></section><section><h2 id="-509870436#code-explanation" data-toc="code-explanation#AuthViewModel.md-code-explanation">Code Explanation</h2><section><h3 id="-509870436#breakdown" data-toc="breakdown#AuthViewModel.md-breakdown">Breakdown</h3><ul class="list" id="-509870436#n0xaiv_12" start="1"><li class="list-item" id="-509870436#n0xaiv_13"><p id="-509870436#n0xaiv_26"><span class="control" id="-509870436#n0xaiv_28"><span class="inline-code" id="-509870436#n0xaiv_29">class AuthViewModel : ViewModel()</span></span></p><ul class="list" id="-509870436#n0xaiv_27" start="1"><li class="list-item" id="-509870436#n0xaiv_30"><p>Inherits from <span class="inline-code" id="-509870436#n0xaiv_31">ViewModel</span> to manage UI-related data in a lifecycle-conscious way.</p></li></ul></li><li class="list-item" id="-509870436#n0xaiv_14"><p id="-509870436#n0xaiv_32"><span class="control" id="-509870436#n0xaiv_34"><span class="inline-code" id="-509870436#n0xaiv_35">private val _authState = MutableStateFlow&lt;AuthState&gt;(AuthState.Uninitialized)</span></span></p><ul class="list" id="-509870436#n0xaiv_33" start="1"><li class="list-item" id="-509870436#n0xaiv_36"><p>Holds the mutable state of the authentication status.</p></li><li class="list-item" id="-509870436#n0xaiv_37"><p>Initially set to <span class="inline-code" id="-509870436#n0xaiv_38">Uninitialized</span>.</p></li></ul></li><li class="list-item" id="-509870436#n0xaiv_15"><p id="-509870436#n0xaiv_39"><span class="control" id="-509870436#n0xaiv_41"><span class="inline-code" id="-509870436#n0xaiv_42">val authState: StateFlow&lt;AuthState&gt; = _authState.asStateFlow()</span></span></p><ul class="list" id="-509870436#n0xaiv_40" start="1"><li class="list-item" id="-509870436#n0xaiv_43"><p>Exposes a read-only version of <span class="inline-code" id="-509870436#n0xaiv_44">_authState</span>.</p></li></ul></li><li class="list-item" id="-509870436#n0xaiv_16"><p id="-509870436#n0xaiv_45"><span class="control" id="-509870436#n0xaiv_47"><span class="inline-code" id="-509870436#n0xaiv_48">private val auth: FirebaseAuth = FirebaseAuth.getInstance()</span></span></p><ul class="list" id="-509870436#n0xaiv_46" start="1"><li class="list-item" id="-509870436#n0xaiv_49"><p>Initializes an instance of Firebase Authentication.</p></li></ul></li><li class="list-item" id="-509870436#n0xaiv_17"><p id="-509870436#n0xaiv_50"><span class="control" id="-509870436#n0xaiv_52"><span class="inline-code" id="-509870436#n0xaiv_53">private val authStateListener = FirebaseAuth.AuthStateListener { ... }</span></span></p><ul class="list" id="-509870436#n0xaiv_51" start="1"><li class="list-item" id="-509870436#n0xaiv_54"><p>Listener that updates the <span class="inline-code" id="-509870436#n0xaiv_56">_authState</span> based on the current user authentication state.</p></li><li class="list-item" id="-509870436#n0xaiv_55"><p>Sets the state to <span class="inline-code" id="-509870436#n0xaiv_57">Authenticated</span> if a <span class="inline-code" id="-509870436#n0xaiv_58">FirebaseUser</span> is present; otherwise, sets it to <span class="inline-code" id="-509870436#n0xaiv_59">Unauthenticated</span>.</p></li></ul></li><li class="list-item" id="-509870436#n0xaiv_18"><p id="-509870436#n0xaiv_60"><span class="control" id="-509870436#n0xaiv_62"><span class="inline-code" id="-509870436#n0xaiv_63">init { ... }</span></span></p><ul class="list" id="-509870436#n0xaiv_61" start="1"><li class="list-item" id="-509870436#n0xaiv_64"><p>Adds the <span class="inline-code" id="-509870436#n0xaiv_65">authStateListener</span> to Firebase Authentication when the <span class="inline-code" id="-509870436#n0xaiv_66">AuthViewModel</span> is initialized.</p></li></ul></li><li class="list-item" id="-509870436#n0xaiv_19"><p id="-509870436#n0xaiv_67"><span class="control" id="-509870436#n0xaiv_69"><span class="inline-code" id="-509870436#n0xaiv_70">override fun onCleared() { ... }</span></span></p><ul class="list" id="-509870436#n0xaiv_68" start="1"><li class="list-item" id="-509870436#n0xaiv_71"><p>Removes the <span class="inline-code" id="-509870436#n0xaiv_72">authStateListener</span> when the <span class="inline-code" id="-509870436#n0xaiv_73">ViewModel</span> is cleared to prevent memory leaks.</p></li></ul></li><li class="list-item" id="-509870436#n0xaiv_20"><p id="-509870436#n0xaiv_74"><span class="control" id="-509870436#n0xaiv_76"><span class="inline-code" id="-509870436#n0xaiv_77">suspend fun signInWithEmailAndPassword(email: String, password: String): AuthResult</span></span></p><ul class="list" id="-509870436#n0xaiv_75" start="1"><li class="list-item" id="-509870436#n0xaiv_78"><p>Signs in a user with an email and password.</p></li><li class="list-item" id="-509870436#n0xaiv_79"><p>Returns <span class="inline-code" id="-509870436#n0xaiv_80">AuthResult.Success</span> if successful or <span class="inline-code" id="-509870436#n0xaiv_81">AuthResult.Failure</span> with an error message if unsuccessful.</p></li></ul></li><li class="list-item" id="-509870436#n0xaiv_21"><p id="-509870436#n0xaiv_82"><span class="control" id="-509870436#n0xaiv_84"><span class="inline-code" id="-509870436#n0xaiv_85">suspend fun createUserWithEmailAndPassword(email: String, password: String): AuthResult</span></span></p><ul class="list" id="-509870436#n0xaiv_83" start="1"><li class="list-item" id="-509870436#n0xaiv_86"><p>Creates a new user account with an email and password.</p></li><li class="list-item" id="-509870436#n0xaiv_87"><p>Returns <span class="inline-code" id="-509870436#n0xaiv_88">AuthResult.Success</span> if successful or <span class="inline-code" id="-509870436#n0xaiv_89">AuthResult.Failure</span> with an error message if unsuccessful.</p></li></ul></li><li class="list-item" id="-509870436#n0xaiv_22"><p id="-509870436#n0xaiv_90"><span class="control" id="-509870436#n0xaiv_92"><span class="inline-code" id="-509870436#n0xaiv_93">fun signOut()</span></span></p><ul class="list" id="-509870436#n0xaiv_91" start="1"><li class="list-item" id="-509870436#n0xaiv_94"><p>Signs out the current user.</p></li></ul></li><li class="list-item" id="-509870436#n0xaiv_23"><p id="-509870436#n0xaiv_95"><span class="control" id="-509870436#n0xaiv_97"><span class="inline-code" id="-509870436#n0xaiv_98">suspend fun updateUserProfile(displayName: String?, photoUrl: String?): AuthResult</span></span></p><ul class="list" id="-509870436#n0xaiv_96" start="1"><li class="list-item" id="-509870436#n0xaiv_99"><p>Updates the user's profile information such as display name and profile photo.</p></li><li class="list-item" id="-509870436#n0xaiv_100"><p>Returns <span class="inline-code" id="-509870436#n0xaiv_101">AuthResult.Success</span> if successful or <span class="inline-code" id="-509870436#n0xaiv_102">AuthResult.Failure</span> with an error message if unsuccessful.</p></li></ul></li><li class="list-item" id="-509870436#n0xaiv_24"><p id="-509870436#n0xaiv_103"><span class="control" id="-509870436#n0xaiv_105"><span class="inline-code" id="-509870436#n0xaiv_106">fun getCurrentUserProfile(): UserProfile?</span></span></p><ul class="list" id="-509870436#n0xaiv_104" start="1"><li class="list-item" id="-509870436#n0xaiv_107"><p>Retrieves the current user's profile information.</p></li><li class="list-item" id="-509870436#n0xaiv_108"><p>Returns a <span class="inline-code" id="-509870436#n0xaiv_109">UserProfile</span> object or null if no user is logged in.</p></li></ul></li><li class="list-item" id="-509870436#n0xaiv_25"><p id="-509870436#n0xaiv_110"><span class="control" id="-509870436#n0xaiv_112"><span class="inline-code" id="-509870436#n0xaiv_113">fun getCurrentUser(): FirebaseUser?</span></span></p><ul class="list" id="-509870436#n0xaiv_111" start="1"><li class="list-item" id="-509870436#n0xaiv_114"><p>Retrieves the currently authenticated <span class="inline-code" id="-509870436#n0xaiv_115">FirebaseUser</span>.</p></li></ul></li></ul></section><section><h3 id="-509870436#helper-classes-and-sealed-classes" data-toc="helper-classes-and-sealed-classes#AuthViewModel.md-helper-classes-and-sealed-classes">Helper Classes and Sealed Classes</h3><ul class="list" id="-509870436#n0xaiv_116" start="1"><li class="list-item" id="-509870436#n0xaiv_117"><p id="-509870436#n0xaiv_119"><span class="control" id="-509870436#n0xaiv_121"><span class="inline-code" id="-509870436#n0xaiv_122">sealed class AuthResult</span></span></p><ul class="list" id="-509870436#n0xaiv_120" start="1"><li class="list-item" id="-509870436#n0xaiv_123"><p>Represents the result of an authentication operation.</p></li><li class="list-item" id="-509870436#n0xaiv_124"><p>Contains two subclasses: <span class="inline-code" id="-509870436#n0xaiv_125">Success</span> and <span class="inline-code" id="-509870436#n0xaiv_126">Failure</span>.</p></li></ul></li><li class="list-item" id="-509870436#n0xaiv_118"><p id="-509870436#n0xaiv_127"><span class="control" id="-509870436#n0xaiv_129"><span class="inline-code" id="-509870436#n0xaiv_130">data class UserProfile(val displayName: String? = null, val photoUrl: String? = null)</span></span></p><ul class="list" id="-509870436#n0xaiv_128" start="1"><li class="list-item" id="-509870436#n0xaiv_131"><p>Data class that stores user profile information such as display name and photo URL.</p></li></ul></li></ul></section></section><section><h2 id="-509870436#related-files" data-toc="related-files#AuthViewModel.md-related-files">Related Files</h2><ul class="list" id="-509870436#n0xaiv_132" start="1"><li class="list-item" id="-509870436#n0xaiv_133"><p><span class="control" id="-509870436#n0xaiv_136">UserProfileScreen.kt (<a href="#351066442">User Profile Screen (UserProfileScreen.kt)</a>):</span> Utilizes <span class="inline-code" id="-509870436#n0xaiv_137">AuthViewModel</span> to display and manage user profile information.</p></li><li class="list-item" id="-509870436#n0xaiv_134"><p><span class="control" id="-509870436#n0xaiv_139">NavGraph.kt (<a href="#2136066571">Navigation Graph (NavGraph.kt)</a>):</span> Defines the navigation routes including those for authentication-related screens (sign-in, sign-up).</p></li><li class="list-item" id="-509870436#n0xaiv_135"><p><span class="control" id="-509870436#n0xaiv_141">MainActivity.kt (<a href="#1136912392">Main Activity (MainActivity.kt)</a>):</span> Sets up the main structure and integrates the <span class="inline-code" id="-509870436#n0xaiv_142">AuthViewModel</span>.</p></li></ul></section><section><h2 id="-509870436#usage" data-toc="usage#AuthViewModel.md-usage">Usage</h2><p id="-509870436#n0xaiv_144">The <span class="inline-code" id="-509870436#n0xaiv_147">AuthViewModel</span> is used to manage authentication and user profile operations within the app. Here's how it can be integrated and used:</p><section><h3 id="-509870436#example-usage-in-composable" data-toc="example-usage-in-composable#AuthViewModel.md-example-usage-in-composable">Example Usage in Composable</h3><p id="-509870436#n0xaiv_148">Integrate the <span class="inline-code" id="-509870436#n0xaiv_150">AuthViewModel</span> in your composable screen to access and manipulate authentication data:</p><div class="detached code-block" id="-509870436#n0xaiv_149"><pre><code class="language-kotlin">@Composable
fun UserProfileScreen(navController: NavHostController, authViewModel: AuthViewModel) {
    val userProfile = authViewModel.getCurrentUserProfile()
    // UI elements to display user profile data
}</code></pre></div></section><section><h3 id="-509870436#handling-authentication" data-toc="handling-authentication#AuthViewModel.md-handling-authentication">Handling Authentication</h3><p id="-509870436#n0xaiv_151">The <span class="inline-code" id="-509870436#n0xaiv_153">AuthViewModel</span> provides methods for sign-in, sign-out, user creation, and profile updates:</p><div class="detached code-block" id="-509870436#n0xaiv_152"><pre><code class="language-kotlin">// Sign in with email and password
viewModelScope.launch {
    val result = authViewModel.signInWithEmailAndPassword(email, password)
    if (result is AuthResult.Success) {
        // Handle successful sign-in
    } else if (result is AuthResult.Failure) {
        // Handle sign-in failure
    }
}

// Sign out the current user
authViewModel.signOut()

// Update user profile
viewModelScope.launch {
    val result = authViewModel.updateUserProfile(displayName, photoUrl)
    if (result is AuthResult.Success) {
        // Handle successful profile update
    } else if (result is AuthResult.Failure) {
        // Handle profile update failure
    }
}</code></pre></div></section></section><section><h2 id="-509870436#additional-notes" data-toc="additional-notes#AuthViewModel.md-additional-notes">Additional Notes</h2><ul class="list" id="-509870436#n0xaiv_154" start="1"><li class="list-item" id="-509870436#n0xaiv_155"><p>Using <span class="inline-code" id="-509870436#n0xaiv_158">StateFlow</span> allows observing authentication state changes efficiently in a Compose UI.</p></li><li class="list-item" id="-509870436#n0xaiv_156"><p>Incorporates best practices for handling authentication operations with Firebase in a Kotlin-based Android app.</p></li><li class="list-item" id="-509870436#n0xaiv_157"><p>Proper usage and disposal of <span class="inline-code" id="-509870436#n0xaiv_159">AuthStateListener</span> prevent memory leaks and ensure the application remains responsive.</p></li></ul></section></article></div></section></div></body></html>